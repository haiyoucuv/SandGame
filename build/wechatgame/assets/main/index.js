window.__require=function t(e,o,i){function n(c,s){if(!o[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var u=o[c]={exports:{}};e[c][0].call(u.exports,function(t){return n(e[c][1][t]||t)},u,u.exports,t,e,o,i)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<i.length;c++)n(i[c]);return n}({AES:[function(t,e,o){"use strict";cc._RF.push(e,"96cd4yxnX1PM6/2CaQkFub9","AES");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.AES=void 0;var r=t("../lib/BlockCipher"),c=[],s=[],a=[],l=[],u=[],p=[],h=[],d=[],f=[],_=[];(function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var o=0,i=0;for(e=0;e<256;e++){var n=i^i<<1^i<<2^i<<3^i<<4;n=n>>>8^255&n^99,c[o]=n,s[n]=o;var r=t[o],y=t[r],v=t[y],m=257*t[n]^16843008*n;a[o]=m<<24|m>>>8,l[o]=m<<16|m>>>16,u[o]=m<<8|m>>>24,p[o]=m,m=16843009*v^65537*y^257*r^16843008*o,h[n]=m<<24|m>>>8,d[n]=m<<16|m>>>16,f[n]=m<<8|m>>>24,_[n]=m,o?(o=r^t[t[t[v^r]]],i^=t[t[i]]):o=i=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],v=function(t){function e(e,o,i){return t.call(this,e,o,i)||this}return n(e,t),e.prototype.reset=function(){if(t.prototype.reset.call(this),!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,o=e.words,i=e.sigBytes/4,n=4*((this._nRounds=i+6)+1),r=this._keySchedule=[],s=0;s<n;s++)if(s<i)r[s]=o[s];else{var a=r[s-1];s%i?i>6&&s%i==4&&(a=c[a>>>24]<<24|c[a>>>16&255]<<16|c[a>>>8&255]<<8|c[255&a]):(a=c[(a=a<<8|a>>>24)>>>24]<<24|c[a>>>16&255]<<16|c[a>>>8&255]<<8|c[255&a],a^=y[s/i|0]<<24),r[s]=r[s-i]^a}for(var l=this._invKeySchedule=[],u=0;u<n;u++)s=n-u,a=void 0,a=u%4?r[s]:r[s-4],l[u]=u<4||s<=4?a:h[c[a>>>24]]^d[c[a>>>16&255]]^f[c[a>>>8&255]]^_[c[255&a]]}},e.prototype.encryptBlock=function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,l,u,p,c)},e.prototype.decryptBlock=function(t,e){var o=t[e+1];t[e+1]=t[e+3],t[e+3]=o,this._doCryptBlock(t,e,this._invKeySchedule,h,d,f,_,s),o=t[e+1],t[e+1]=t[e+3],t[e+3]=o},e.prototype._doCryptBlock=function(t,e,o,i,n,r,c,s){for(var a=t[e]^o[0],l=t[e+1]^o[1],u=t[e+2]^o[2],p=t[e+3]^o[3],h=4,d=1;d<this._nRounds;d++){var f=i[a>>>24]^n[l>>>16&255]^r[u>>>8&255]^c[255&p]^o[h++],_=i[l>>>24]^n[u>>>16&255]^r[p>>>8&255]^c[255&a]^o[h++],y=i[u>>>24]^n[p>>>16&255]^r[a>>>8&255]^c[255&l]^o[h++],v=i[p>>>24]^n[a>>>16&255]^r[l>>>8&255]^c[255&u]^o[h++];a=f,l=_,u=y,p=v}var m=(s[a>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&p])^o[h++],g=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[p>>>8&255]<<8|s[255&a])^o[h++],b=(s[u>>>24]<<24|s[p>>>16&255]<<16|s[a>>>8&255]<<8|s[255&l])^o[h++],w=(s[p>>>24]<<24|s[a>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^o[h++];t[e]=m,t[e+1]=g,t[e+2]=b,t[e+3]=w},e.keySize=8,e}(r.BlockCipher);o.AES=v,cc._RF.pop()},{"../lib/BlockCipher":"BlockCipher"}],Base64:[function(t,e,o){"use strict";cc._RF.push(e,"2bd63MRv5VIQ7x+s3FXJT6g","Base64"),Object.defineProperty(o,"__esModule",{value:!0}),o.Base64=void 0;var i=t("../lib/WordArray"),n=function(){function t(){}return t.stringify=function(t){t.clamp();for(var e=[],o=0;o<t.sigBytes;o+=3)for(var i=(t.words[o>>>2]>>>24-o%4*8&255)<<16|(t.words[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t.words[o+2>>>2]>>>24-(o+2)%4*8&255,n=0;n<4&&o+.75*n<t.sigBytes;n++)e.push(this._map.charAt(i>>>6*(3-n)&63));var r=this._map.charAt(64);if(r)for(;e.length%4;)e.push(r);return e.join("")},t.parse=function(t){var e=t.length;if(void 0===this._reverseMap){this._reverseMap=[];for(var o=0;o<this._map.length;o++)this._reverseMap[this._map.charCodeAt(o)]=o}var i=this._map.charAt(64);if(i){var n=t.indexOf(i);-1!==n&&(e=n)}return this.parseLoop(t,e,this._reverseMap)},t.parseLoop=function(t,e,o){for(var n=[],r=0,c=0;c<e;c++)if(c%4){var s=o[t.charCodeAt(c-1)]<<c%4*2,a=o[t.charCodeAt(c)]>>>6-c%4*2;n[r>>>2]|=(s|a)<<24-r%4*8,r++}return new i.WordArray(n,r)},t._map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t._reverseMap=void 0,t}();o.Base64=n,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],Base:[function(t,e,o){"use strict";cc._RF.push(e,"4f09fWc4UBDG72B0W+2Ov7Q","Base"),Object.defineProperty(o,"__esModule",{value:!0}),o.Base=void 0;o.Base=function(){},cc._RF.pop()},{}],BitText:[function(t,e,o){"use strict";cc._RF.push(e,"bd5deybNDBOc5i/9P2WUtAA","BitText");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator.menu,s=cc._decorator,a=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._gap=0,e._text="",e.texture=null,e}return n(e,t),Object.defineProperty(e.prototype,"w",{get:function(){return this._w},set:function(t){this._w=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=t,this.permutation()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){var e=this;this._text=t,this.node.destroyAllChildren(),this.node.removeAllChildren(),t.split("").forEach(function(t){var o=e.atlas.getChildByName(t);if(!o)return console.warn("\u6ca1\u914d\u7f6e "+t+" \u8fd9\u4e2a\u5b57\u7b26");var i=cc.instantiate(o);i.anchorX=0,e.node.addChild(i)}),this.permutation()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.atlas=cc.instantiate(this.texture)},e.prototype.start=function(){},e.prototype.permutation=function(){var t=this.gap,e=0;this.node.children.forEach(function(o){o.anchorX=0,o.x=e,e+=o.width+t}),this.w=e;var o=e/2;this.node.children.forEach(function(t){return t.x-=o})},r([l],e.prototype,"_gap",void 0),r([l],e.prototype,"gap",null),r([l],e.prototype,"_text",void 0),r([l],e.prototype,"text",null),r([l(cc.Prefab)],e.prototype,"texture",void 0),r([a,c("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/\u4f4d\u56fe\u5b57")],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],BlockCipherModeAlgorithm:[function(t,e,o){"use strict";cc._RF.push(e,"5d75cMCG3JDR5R8avRVE7fv","BlockCipherModeAlgorithm"),Object.defineProperty(o,"__esModule",{value:!0}),o.BlockCipherModeAlgorithm=void 0;var i=function(){function t(t,e){this.init(t,e)}return t.prototype.init=function(t,e){this._cipher=t,this._iv=e},t}();o.BlockCipherModeAlgorithm=i,cc._RF.pop()},{}],BlockCipherMode:[function(t,e,o){"use strict";cc._RF.push(e,"3924aG9RatIya4WktakIFa3","BlockCipherMode"),Object.defineProperty(o,"__esModule",{value:!0}),o.BlockCipherMode=void 0;var i=t("./BlockCipherModeAlgorithm"),n=function(){function t(){}return t.createEncryptor=function(t,e){return new(0,this.Encryptor)(t,e)},t.createDecryptor=function(t,e){return new(0,this.Decryptor)(t,e)},t.Encryptor=i.BlockCipherModeAlgorithm,t.Decryptor=i.BlockCipherModeAlgorithm,t}();o.BlockCipherMode=n,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],BlockCipher:[function(t,e,o){"use strict";cc._RF.push(e,"21d0eJMyVNFf5EjB78fh4GH","BlockCipher");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.BlockCipher=void 0;var r=t("./Cipher"),c=t("../mode/CBC"),s=t("../pad/PKCS7"),a=function(t){function e(e,o,i){return t.call(this,e,o,Object.assign({blockSize:4,mode:c.CBC,padding:s.PKCS7},i))||this}return n(e,t),e.prototype.reset=function(){if(t.prototype.reset.call(this),void 0===this.cfg.mode)throw new Error("missing mode in config");var e;this._xformMode===this.constructor._ENC_XFORM_MODE?e=this.cfg.mode.createEncryptor:(e=this.cfg.mode.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator===e?this._mode.init(this,this.cfg.iv&&this.cfg.iv.words):(this._mode=e.call(this.cfg.mode,this,this.cfg.iv&&this.cfg.iv.words),this._mode.__creator=e)},e.prototype._doProcessBlock=function(t,e){this._mode.processBlock(t,e)},e.prototype._doFinalize=function(){if(void 0===this.cfg.padding)throw new Error("missing padding in config");var t;if(this._xformMode===this.constructor._ENC_XFORM_MODE){if(void 0===this.cfg.blockSize)throw new Error("missing blockSize in config");this.cfg.padding.pad(this._data,this.cfg.blockSize),t=this._process(!0)}else t=this._process(!0),this.cfg.padding.unpad(t);return t},e}(r.Cipher);o.BlockCipher=a,cc._RF.pop()},{"../mode/CBC":"CBC","../pad/PKCS7":"PKCS7","./Cipher":"Cipher"}],BufferedBlockAlgorithmConfig:[function(t,e,o){"use strict";cc._RF.push(e,"a691bOuPHtOHqDIfD8KqD6/","BufferedBlockAlgorithmConfig"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],BufferedBlockAlgorithm:[function(t,e,o){"use strict";cc._RF.push(e,"cf58dIco7ZJWqhu+tUpB/rQ","BufferedBlockAlgorithm"),Object.defineProperty(o,"__esModule",{value:!0}),o.BufferedBlockAlgorithm=void 0;var i=t("../lib/WordArray"),n=t("../enc/Utf8"),r=function(){function t(t){this._minBufferSize=0,this.cfg=Object.assign({blockSize:1},t),this._data=new i.WordArray,this._nDataBytes=0}return t.prototype.reset=function(){this._data=new i.WordArray,this._nDataBytes=0},t.prototype._append=function(t){"string"==typeof t&&(t=n.Utf8.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},t.prototype._process=function(t){if(!this.cfg.blockSize)throw new Error("missing blockSize in config");var e,o=4*this.cfg.blockSize,n=this._data.sigBytes/o,r=(n=t?Math.ceil(n):Math.max((0|n)-this._minBufferSize,0))*this.cfg.blockSize,c=Math.min(4*r,this._data.sigBytes);if(r){for(var s=0;s<r;s+=this.cfg.blockSize)this._doProcessBlock(this._data.words,s);e=this._data.words.splice(0,r),this._data.sigBytes-=c}return new i.WordArray(e,c)},t.prototype.clone=function(){var t=this.constructor();for(var e in this)this.hasOwnProperty(e)&&(t[e]=this[e]);return t._data=this._data.clone(),t},t}();o.BufferedBlockAlgorithm=r,cc._RF.pop()},{"../enc/Utf8":"Utf8","../lib/WordArray":"WordArray"}],CBCDecryptor:[function(t,e,o){"use strict";cc._RF.push(e,"1ad4cqzZfRPwp94d8YnFPl/","CBCDecryptor");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CBCDecryptor=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.processBlock=function(t,e){if(void 0===this._cipher.cfg.blockSize)throw new Error("missing blockSize in cipher config");var o=t.slice(e,e+this._cipher.cfg.blockSize);this._cipher.decryptBlock(t,e),this.xorBlock(t,e,this._cipher.cfg.blockSize),this._prevBlock=o},e.prototype.xorBlock=function(t,e,o){var i;if(this._iv?(i=this._iv,this._iv=void 0):i=this._prevBlock,void 0!==i)for(var n=0;n<o;n++)t[e+n]^=i[n]},e}(t("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.CBCDecryptor=r,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],CBCEncryptor:[function(t,e,o){"use strict";cc._RF.push(e,"c39aeVY9t1FkZE4VCb4inr1","CBCEncryptor");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CBCEncryptor=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.processBlock=function(t,e){if(void 0===this._cipher.cfg.blockSize)throw new Error("missing blockSize in cipher config");this.xorBlock(t,e,this._cipher.cfg.blockSize),this._cipher.encryptBlock(t,e),this._prevBlock=t.slice(e,e+this._cipher.cfg.blockSize)},e.prototype.xorBlock=function(t,e,o){var i;if(this._iv?(i=this._iv,this._iv=void 0):i=this._prevBlock,void 0!==i)for(var n=0;n<o;n++)t[e+n]^=i[n]},e}(t("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.CBCEncryptor=r,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],CBC:[function(t,e,o){"use strict";cc._RF.push(e,"06a81U9Vx1NNYoqRsEBKiQj","CBC");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CBC=void 0;var r=t("./BlockCipherMode"),c=t("./CBCEncryptor"),s=t("./CBCDecryptor"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.Encryptor=c.CBCEncryptor,e.Decryptor=s.CBCDecryptor,e}(r.BlockCipherMode);o.CBC=a,cc._RF.pop()},{"./BlockCipherMode":"BlockCipherMode","./CBCDecryptor":"CBCDecryptor","./CBCEncryptor":"CBCEncryptor"}],CipherParamsInterface:[function(t,e,o){"use strict";cc._RF.push(e,"eeadc1P/N1HhK+ixYLoWm6U","CipherParamsInterface"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],CipherParams:[function(t,e,o){"use strict";cc._RF.push(e,"7d0f7ZPQXJHHZkAia7KDsjK","CipherParams");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CipherParams=void 0;var r=function(t){function e(e){var o=t.call(this)||this;return o.ciphertext=e.ciphertext,o.key=e.key,o.iv=e.iv,o.salt=e.salt,o.algorithm=e.algorithm,o.mode=e.mode,o.padding=e.padding,o.blockSize=e.blockSize,o.formatter=e.formatter,o}return n(e,t),e.prototype.extend=function(t){return void 0!==t.ciphertext&&(this.ciphertext=t.ciphertext),void 0!==t.key&&(this.key=t.key),void 0!==t.iv&&(this.iv=t.iv),void 0!==t.salt&&(this.salt=t.salt),void 0!==t.algorithm&&(this.algorithm=t.algorithm),void 0!==t.mode&&(this.mode=t.mode),void 0!==t.padding&&(this.padding=t.padding),void 0!==t.blockSize&&(this.blockSize=t.blockSize),void 0!==t.formatter&&(this.formatter=t.formatter),this},e.prototype.toString=function(t){if(t)return t.stringify(this);if(this.formatter)return this.formatter.stringify(this);throw new Error("cipher needs a formatter to be able to convert the result into a string")},e}(t("../lib/Base").Base);o.CipherParams=r,cc._RF.pop()},{"../lib/Base":"Base"}],Cipher:[function(t,e,o){"use strict";cc._RF.push(e,"17af38QDEtBpIJvV5ogFCEE","Cipher");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Cipher=void 0;var r=t("./BufferedBlockAlgorithm"),c=t("./SerializableCipher"),s=t("./PasswordBasedCipher"),a=function(t){function e(e,o,i){var n=t.call(this,Object.assign({blockSize:1},i))||this;return n._xformMode=e,n._key=o,n.reset(),n}return n(e,t),e.createEncryptor=function(t,e){return new this(this._ENC_XFORM_MODE,t,e)},e.createDecryptor=function(t,e){return new this(this._DEC_XFORM_MODE,t,e)},e._createHelper=function(t){return{encrypt:function(e,o,i){return"string"==typeof o?s.PasswordBasedCipher.encrypt(t,e,o,i):c.SerializableCipher.encrypt(t,e,o,i)},decrypt:function(e,o,i){return"string"==typeof o?s.PasswordBasedCipher.decrypt(t,e,o,i):c.SerializableCipher.decrypt(t,e,o,i)}}},e.prototype.process=function(t){return this._append(t),this._process()},e.prototype.finalize=function(t){return t&&this._append(t),this._doFinalize()},e._ENC_XFORM_MODE=1,e._DEC_XFORM_MODE=2,e.keySize=4,e.ivSize=4,e}(r.BufferedBlockAlgorithm);o.Cipher=a,cc._RF.pop()},{"./BufferedBlockAlgorithm":"BufferedBlockAlgorithm","./PasswordBasedCipher":"PasswordBasedCipher","./SerializableCipher":"SerializableCipher"}],ColorAssembler2D:[function(t,e,o){"use strict";cc._RF.push(e,"b19fdFIqAJBGJ4+mZmDzoHA","ColorAssembler2D");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,l=c.executeInEditMode,u=c.requireComponent,p=c.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._colors=[],e}return n(e,t),Object.defineProperty(e.prototype,"colors",{get:function(){return this._colors},set:function(t){this._colors=t,this._updateColors()},enumerable:!1,configurable:!0}),e.prototype.onEnable=function(){cc.director.once(cc.Director.EVENT_AFTER_DRAW,this._updateColors,this)},e.prototype.onDisable=function(){cc.director.off(cc.Director.EVENT_AFTER_DRAW,this._updateColors,this),this.node._renderFlag|=cc.RenderFlow.FLAG_COLOR},e.prototype._updateColors=function(){var t=this.getComponent(cc.RenderComponent);if(t){var e=t._assembler;if(e instanceof cc.Assembler2D){var o=e._renderData.uintVDatas[0];if(o)for(var i=this.node.color,n=e.floatsPerVert,r=0,c=e.colorOffset,s=o.length;c<s;c+=n)o[c]=(this.colors[r++]||i)._val}}},r([a],e.prototype,"_colors",void 0),r([a({type:[cc.Color]})],e.prototype,"colors",null),r([s,l,u(cc.RenderComponent),p("i18n:MAIN_MENU.component.renderers/ColorAssembler2D-lamyoung.com")],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],Crypto:[function(t,e,o){"use strict";cc._RF.push(e,"9c746G27idMjbRR2oL1SzLB","Crypto"),Object.defineProperty(o,"__esModule",{value:!0}),o.getDecrypt=o.getEncrypt=void 0;var i=t("./crypto/crypto-ts");o.getEncrypt=function(t,e){return i.AES.encrypt(JSON.stringify(t),e).toString()},o.getDecrypt=function(t,e){var o=i.AES.decrypt(t,i.enc.Utf8.parse(e),{iv:i.enc.Utf8.parse(e),padding:i.pad.NoPadding,mode:i.mode.CBC}).toString(i.enc.Utf8);return JSON.parse(o.replace(/\x00/g,""))},cc._RF.pop()},{"./crypto/crypto-ts":"crypto-ts"}],ECBDecryptor:[function(t,e,o){"use strict";cc._RF.push(e,"8ed44+uJBRPpa3oBeLbZzAM","ECBDecryptor");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ECBDecryptor=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.processBlock=function(t,e){this._cipher.decryptBlock(t,e)},e}(t("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.ECBDecryptor=r,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],ECBEncryptor:[function(t,e,o){"use strict";cc._RF.push(e,"13795LncgFM0YCB4HaFanAR","ECBEncryptor");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ECBEncryptor=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.processBlock=function(t,e){this._cipher.encryptBlock(t,e)},e}(t("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.ECBEncryptor=r,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],ECB:[function(t,e,o){"use strict";cc._RF.push(e,"ec8dbBTJ6RNm6cjiixZWoF1","ECB");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ECB=void 0;var r=t("./BlockCipherMode"),c=t("./ECBEncryptor"),s=t("./ECBDecryptor"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.Encryptor=c.ECBEncryptor,e.Decryptor=s.ECBDecryptor,e}(r.BlockCipherMode);o.ECB=a,cc._RF.pop()},{"./BlockCipherMode":"BlockCipherMode","./ECBDecryptor":"ECBDecryptor","./ECBEncryptor":"ECBEncryptor"}],Encoding:[function(t,e,o){"use strict";cc._RF.push(e,"06267ek3V9Bv7ToNgZ8In9X","Encoding"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],EnumCFG:[function(t,e,o){"use strict";cc._RF.push(e,"f36a03kVptI6rLeD4/OUkSZ","EnumCFG"),Object.defineProperty(o,"__esModule",{value:!0}),o.BOX=void 0,function(t){t.NONE="none",t.SHIELD="shield",t.BOMB="bomb",t.SCATTER="scatter",t.FREEZE="freeze",t.FULL_LEVEL="fullLevel"}(o.BOX||(o.BOX={})),cc._RF.pop()},{}],EventMgr:[function(t,e,o){"use strict";cc._RF.push(e,"894b78TzxVCLYl5Cx61MdQ0","EventMgr");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.events_map={},e}var o;return n(e,t),o=e,e.prototype.onLoad=function(){null===o.ins?o.ins=this:this.destroy()},e.prototype.on=function(t,e,o){this.events_map[t]||(this.events_map[t]=[]),this.events_map[t].push({caller:o,func:e})},e.prototype.off=function(t,e,o){if(this.events_map[t]){for(var i=this.events_map[t],n=0;n<i.length;n++){var r=i[n];if(r.caller==o&&r.func==e){i.splice(n,1);break}}i.length<=0&&(this.events_map[t]=null)}},e.prototype.dispatch=function(t,e){if(this.events_map[t])for(var o=this.events_map[t],i=0;i<o.length;i++){var n=o[i];n.func.call(n.caller,t,e)}},e.ins=null,o=r([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],EvpKDF:[function(t,e,o){"use strict";cc._RF.push(e,"8629bGgNExGCoq7mr1dcIe0","EvpKDF"),Object.defineProperty(o,"__esModule",{value:!0}),o.EvpKDF=void 0;var i=t("../lib/WordArray"),n=t("../algo/MD5"),r=function(){function t(t){this.cfg=Object.assign({keySize:4,hasher:n.MD5,iterations:1},t)}return t.prototype.compute=function(t,e){for(var o,n=new this.cfg.hasher,r=new i.WordArray;r.words.length<this.cfg.keySize;){o&&n.update(o),o=n.update(t).finalize(e),n.reset();for(var c=1;c<this.cfg.iterations;c++)o=n.finalize(o),n.reset();r.concat(o)}return r.sigBytes=4*this.cfg.keySize,r},t}();o.EvpKDF=r,cc._RF.pop()},{"../algo/MD5":"MD5","../lib/WordArray":"WordArray"}],FitSprite:[function(t,e,o){"use strict";cc._RF.push(e,"55f2b6YY2VNsp2pvVM/3ZOl","FitSprite");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.FitSpriteType=void 0;var c,s=cc._decorator.ccclass,a=cc._decorator.property,l=cc._decorator.menu;(function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"})(c=o.FitSpriteType||(o.FitSpriteType={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._fitSpriteType=c.Vertical,e.maxWidth=0,e.maxHeight=0,e}return n(e,t),Object.defineProperty(e.prototype,"fitSpriteType",{get:function(){return this._fitSpriteType},set:function(t){this._fitSpriteType=t,this.updateSpriteSize()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.SIZE_CHANGED,this.updateSpriteSize,this)},e.prototype.setTexture=function(t){this.node.getComponent(cc.Sprite).spriteFrame=t,this.updateSpriteSize()},e.prototype.updateSpriteSize=function(){var t=this.node.getComponent(cc.Sprite).spriteFrame.getTexture();this.fitSpriteType===c.Horizontal?(this.node.height=t.height/t.width*this.maxWidth,this.node.width=this.maxWidth):(this.node.width=t.width/t.height*this.maxHeight,this.node.height=this.maxHeight)},r([a({type:cc.Enum(c),tooltip:"\u7c7b\u578b"})],e.prototype,"_fitSpriteType",void 0),r([a("\u6700\u5927\u5bbd\u5ea6")],e.prototype,"maxWidth",void 0),r([a("\u6700\u5927\u9ad8\u5ea6")],e.prototype,"maxHeight",void 0),r([a({type:cc.Enum(c),tooltip:"\u7c7b\u578b"})],e.prototype,"fitSpriteType",null),r([s,l("\u6e32\u67d3\u7ec4\u4ef6/FitSprite")],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],Formatter:[function(t,e,o){"use strict";cc._RF.push(e,"3e75cNc+ctI+p2HmB+QJ09j","Formatter"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],FrameAnim:[function(t,e,o){"use strict";cc._RF.push(e,"fff9bqLmFFGOY0yWNU1rBNI","FrameAnim");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteFrames=[],e.duration=.1,e.loop=!1,e.playOnload=!1,e.endFunc=null,e.isPlaying=!1,e.playTime=0,e.caller=null,e.index=0,e}return n(e,t),e.prototype.onLoad=function(){this.sprite=this.getComponent(cc.Sprite),this.sprite||(this.sprite=this.addComponent(cc.Sprite)),this.playOnload&&(this.loop?this.playLoop():this.playOnce(this.caller,null))},e.prototype.playLoop=function(){this.initFrame(!0,null)},e.prototype.playOnce=function(t,e){this.caller=e,this.initFrame(!1,t)},e.prototype.play=function(t,e){this.caller=e,this.initFrame(!1,t)},e.prototype.initFrame=function(t,e){this.spriteFrames.length<=0||(this.isPlaying=!0,this.playTime=0,this.index=0,this.sprite.spriteFrame=this.spriteFrames[0],this.loop=t,this.endFunc=e)},e.prototype.start=function(){},e.prototype.update=function(t){if(this.isPlaying){this.playTime+=t;var e=~~(this.index++/2);this.loop?(e>=this.spriteFrames.length&&(e%=this.spriteFrames.length,this.playTime-=this.duration*this.spriteFrames.length),this.sprite.spriteFrame=this.spriteFrames[e]):e>=this.spriteFrames.length?(this.isPlaying=!1,this.endFunc&&this.endFunc.call(this.caller)):this.sprite.spriteFrame=this.spriteFrames[e]}},r([a({type:[cc.SpriteFrame],tooltip:"\u5e27\u52a8\u753b\u56fe\u7247\u6570\u7ec4"})],e.prototype,"spriteFrames",void 0),r([a({tooltip:"\u6bcf\u4e00\u5e27\u7684\u65f6\u957f"})],e.prototype,"duration",void 0),r([a({tooltip:"\u662f\u5426\u5faa\u73af\u64ad\u653e"})],e.prototype,"loop",void 0),r([a({tooltip:"\u662f\u5426\u5728\u52a0\u8f7d\u7684\u65f6\u5019\u5c31\u5f00\u59cb\u64ad\u653e"})],e.prototype,"playOnload",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],GameCfg:[function(t,e,o){"use strict";cc._RF.push(e,"26984h3FAJMtbDNSw3PDeqt","GameCfg"),Object.defineProperty(o,"__esModule",{value:!0}),o.BlockTpl=o.ColorArr=o.SandPool=o.GameCfg=void 0,o.GameCfg={MaxCol:80,MaxRow:140,SandWidth:6,BlockDropSpeed:400,SimulateDT:.04},o.SandPool=new cc.NodePool,o.ColorArr=[cc.color(206,82,57),cc.color(252,188,60),cc.color(61,106,175),cc.color(110,177,81)],o.BlockTpl=[[[1,1],[1,1]],[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],[[1,1,0],[1,0,0],[1,0,0]],[[0,1,1],[1,1,0],[0,0,0]],[[1,0,0],[1,1,0],[1,0,0]]],cc._RF.pop()},{}],GameLaunch:[function(t,e,o){"use strict";cc._RF.push(e,"f07fdFsduFCA5kcO/1tsdhz","GameLaunch");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,r){function c(t){try{a(i.next(t))}catch(e){r(e)}}function s(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,s)}a((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,i,n,r,c={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return a([t,e])}}function a(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,i=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(n=(n=c.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){c.label=r[1];break}if(6===r[0]&&c.label<n[1]){c.label=n[1],n=r;break}if(n&&c.label<n[2]){c.label=n[2],c.ops.push(r);break}n[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Managers/EventMgr"),l=t("../Module/SceneCtrl"),u=t("./Scenes/GameScene/GameScene"),p=cc._decorator,h=p.ccclass,d=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.node.addComponent(a.default)},e.prototype.start=function(){return c(this,void 0,void 0,function(){return s(this,function(){return l.changeScene(u.default),[2]})})},r([h],e)}(cc.Component));o.default=d,cc._RF.pop()},{"../Module/SceneCtrl":"SceneCtrl","./Managers/EventMgr":"EventMgr","./Scenes/GameScene/GameScene":"GameScene"}],GameRunner:[function(t,e,o){"use strict";cc._RF.push(e,"38828i7RXNJR7pbJRq4We/Y","GameRunner");var i=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,r){function c(t){try{a(i.next(t))}catch(e){r(e)}}function s(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,s)}a((i=i.apply(t,e||[])).next())})},n=this&&this.__generator||function(t,e){var o,i,n,r,c={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return a([t,e])}}function a(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,i=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(n=(n=c.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){c.label=r[1];break}if(6===r[0]&&c.label<n[1]){c.label=n[1],n=r;break}if(n&&c.label<n[2]){c.label=n[2],c.ops.push(r);break}n[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.GameRunner=void 0;var r=cc.director,c=function(){function t(){this.isRunning=!1}return Object.defineProperty(t,"Instance",{get:function(){return this.instance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsRunning",{get:function(){return this.isRunning},enumerable:!1,configurable:!0}),t.prototype.playGame=function(){return i(this,void 0,Promise,function(){return n(this,function(){return this.isRunning=!0,r.loadScene("Game"),r.loadScene("Menu"),this.isRunning=!1,[2]})})},t.instance=new t,t}();o.GameRunner=c,cc._RF.pop()},{}],GameScene:[function(t,e,o){"use strict";cc._RF.push(e,"423bfcN95dFq4RmuQGsx5F9","GameScene");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,r){function c(t){try{a(i.next(t))}catch(e){r(e)}}function s(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,s)}a((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,i,n,r,c={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return a([t,e])}}function a(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,i=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(n=(n=c.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){c.label=r[1];break}if(6===r[0]&&c.label<n[1]){c.label=n[1],n=r;break}if(n&&c.label<n[2]){c.label=n[2],c.ops.push(r);break}n[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<o;e++)for(var r=arguments[e],c=0,s=r.length;c<s;c++,n++)i[n]=r[c];return i};Object.defineProperty(o,"__esModule",{value:!0});var l=t("../../../Module/Scene"),u=t("../../Game/config/GameCfg"),p=t("./SandBlock"),h=t("../../Utils/Utils"),d=cc._decorator,f=d.ccclass,_=d.property,y=u.GameCfg.MaxCol,v=u.GameCfg.MaxRow,m=u.GameCfg.SandWidth,g=(u.GameCfg.BlockDropSpeed,u.GameCfg.SimulateDT),b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sandPrefab=null,e.sandBlock=null,e.sandBlockTS=null,e.sandRoot=null,e.sandArr=[],e.pause=!1,e.pauseDelArr=[],e.doPause=function(){e.pause=!e.pause},e.moveDir=0,e.gameSpeed=1,e.simulateTotal=0,e.debugSand=function(t,o,i){void 0===i&&(i=cc.Color.BLACK),e.pause=!0;var n=cc.instantiate(e.sandPrefab);e.view.BlockRoot.addChild(n),n.setPosition(t,o)},e}var o;return n(e,t),o=e,Object.defineProperty(e,"ins",{get:function(){return this._ins},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),o._ins=this;for(var e=this.sandPrefab,i=(this.sandArr,0);i<100;i++){var n=cc.instantiate(e);u.SandPool.put(n)}for(i=0;i<y;i++)this.sandArr.push([]);this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEC,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEC,this),this.addButtonListen("\u6682\u505c",this.doPause,this)},e.prototype.movieSandBlock=function(){this.sandBlockTS.col+=this.moveDir},e.prototype.onTouchStart=function(){this.schedule(this.movieSandBlock,.016)},e.prototype.onTouchMove=function(t){var e=t.getStartLocation().x,o=t.getLocationX();this.moveDir=o<e?-1:1},e.prototype.onTouchEC=function(t){var e=t.getStartLocation(),o=t.getLocation();e.subtract(o).len()<10&&this.sandBlockTS.rotate(),this.unschedule(this.movieSandBlock)},e.prototype.start=function(){this.resetSandBlock()},e.prototype.resetSandBlock=function(){var t=u.ColorArr[Math.random()*u.ColorArr.length>>0];this.sandBlockTS.random(t),this.sandBlockTS.row=141,this.sandBlockTS.col=30},e.prototype.doSimulate=function(){for(var t,e,o,i,n=this.sandArr,r=0;r<y;r++)for(var c=0;c<v;c++)if(!(c<=0)){var s=n[r][c];if(s){var a=c-1,l=r-1,u=r+1;if(n[r][a]){var p=null===(t=n[l])||void 0===t?void 0:t[c],h=null===(e=n[u])||void 0===e?void 0:e[c],d=null===(o=n[l])||void 0===o?void 0:o[a],f=null===(i=n[u])||void 0===i?void 0:i[a];!p&&!d&&r>0?(n[l][a]=s,n[r][c]=null,s[0].setPosition(l*m,a*m)):!h&&!f&&r<y-1&&(n[u][a]=s,n[r][c]=null,s[0].setPosition(u*m,a*m))}else n[r][a]=s,n[r][c]=null,s[0].setPosition(r*m,a*m)}}},e.prototype.judgeSandBlock=function(){var t,e,o=this.sandArr,i=this.sandBlockTS,n=i.sandArr,r=i.col,c=i.row,s=i.ralMinCol,a=i.ralMaxCol,l=i.ralMinRow,u=i.ralMaxRow;if(c<=-l)return this.copyBlockToArr(),void this.resetSandBlock();for(var p=s;p<=a;p++)for(var h=l;h<=u;h++){var d=null===(t=n[p])||void 0===t?void 0:t[h],f=null===(e=o[p+r])||void 0===e?void 0:e[h-1+c];if(d&&f)return!0}return!1},e.prototype.copyBlockToArr=function(){for(var t,e=this.sandArr,o=this.sandRoot,i=this.sandBlock,n=this.sandBlockTS,r=n.sandArr,c=n.col,s=n.row,a=n.ralMinCol,l=n.ralMaxCol,u=n.ralMinRow,p=n.ralMaxRow,h=n.colorHex,d=a;d<=l;d++)for(var f=u;f<=p;f++){var _=null===(t=r[d])||void 0===t?void 0:t[f];_&&(i.removeChild(_),o.addChild(_),e[d+c][f+s]=[_,h],_.setPosition((d+c)*m,(f+s)*m),r[d][f]=null)}},e.prototype.blockDrop=function(){this.sandBlockTS.row-=1},e.prototype.doJudgeEliminate=function(){for(var t=this.sandArr,e=[],o=null,i=0;i<v;i++){var n=t[0][i];if(n){n[0];var r=n[1];r!==o&&(e.push(i),o=r)}else o=null}if(0!==e.length){for(var c=[],s=e.length,a=0;a<s;a++){var l=this.searchSame(0,e[a]),u=l.resArr;l.isCutThrough&&(c=c.concat(u))}this.doEliminate(c)}},e.prototype.searchSame=function(t,e){var o,i,n,r,c,s,a,l,u=this.sandArr,p=u[t][e];if(!p)return{resArr:[],isCutThrough:!1};for(var h=p[1],d=[],f=0;f<y;f++)d.push([]);d[t][e]=!0;for(var _=[[p,t,e,p[0].color]],m=!1,g=(f=0,1);f<g;f++){var b=_[f],w=(b[0],b[1]),S=b[2];w===y-1&&(m=!0);var P=w-1,C=w+1,O=S-1,T=S+1;if(P>=0){var R=null===(o=u[P])||void 0===o?void 0:o[S];if(d[P][S]||(null==R?void 0:R[1])!==h||(_.push([R,P,S,R[0].color]),g++),d[P][S]=!0,O>=0){var E=null===(i=u[P])||void 0===i?void 0:i[O];d[P][O]||(null==E?void 0:E[1])!==h||(_.push([E,P,O,E[0].color]),g++),d[P][O]=!0}if(T<v){var I=null===(n=u[P])||void 0===n?void 0:n[T];d[P][T]||(null==I?void 0:I[1])!==h||(_.push([I,P,T,I[0].color]),g++),d[P][T]=!0}}if(C<y){var M=null===(r=u[C])||void 0===r?void 0:r[S];if(d[C][S]||(null==M?void 0:M[1])!==h||(_.push([M,C,S,M[0].color]),g++),d[C][S]=!0,O>=0){var k=null===(c=u[C])||void 0===c?void 0:c[O];d[C][O]||(null==k?void 0:k[1])!==h||(_.push([k,C,O,k[0].color]),g++),d[C][O]=!0}if(T<v){var A=null===(s=u[C])||void 0===s?void 0:s[T];d[C][T]||(null==A?void 0:A[1])!==h||(_.push([A,C,T,A[0].color]),g++),d[C][T]=!0}}if(O>=0){var B=null===(a=u[w])||void 0===a?void 0:a[O];d[w][O]||(null==B?void 0:B[1])!==h||(_.push([B,w,O,B[0].color]),g++),d[w][O]=!0}if(T<v){var x=null===(l=u[w])||void 0===l?void 0:l[T];d[w][T]||(null==x?void 0:x[1])!==h||(_.push([x,w,T,x[0].color]),g++),d[w][T]=!0}}return{resArr:_,isCutThrough:m}},e.prototype.doEliminate=function(t){return c(this,void 0,void 0,function(){var e,o,i,n,r,c,a,l,p,d,f,_;return s(this,function(s){switch(s.label){case 0:if(!(e=t.length))return[3,8];this.pause=!0,a=0,s.label=1;case 1:if(!(a<2))return[3,5];for(o=0;o<e;o++)(d=t[o][0][0]).color=cc.Color.WHITE;return[4,h.wait(50)];case 2:for(s.sent(),i=0;i<e;i++)n=t[i],r=n[0],d=r[0],r[1],f=n[1],_=n[2],c=n[3],d.color=c;return[4,h.wait(50)];case 3:s.sent(),s.label=4;case 4:return a++,[3,1];case 5:for(a=0;a<e;a++)(d=t[a][0][0]).color=cc.Color.WHITE;return[4,h.wait(50)];case 6:for(s.sent(),a=0;a<e;a++)l=t[a],p=l[0],d=p[0],p[1],f=l[1],_=l[2],d.removeFromParent(),u.SandPool.put(d),this.sandArr[f][_]=null;return[4,h.wait(50)];case 7:s.sent(),this.pause=!1,s.label=8;case 8:return[2]}})})},e.prototype.update=function(t){if(!this.pause){var e=t*this.gameSpeed;this.blockDrop(e),this.judgeSandBlock()&&(this.copyBlockToArr(),this.resetSandBlock()),this.simulateTotal+=e,this.simulateTotal>=g&&(this.simulateTotal-=g,this.doSimulate(),this.doJudgeEliminate())}},e.prototype.debug=function(t){for(var e=this,o=this.sandArr,i=0,n=0;n<y;n++)for(var r=0;r<v;r++)if(o[n][r]){i++;var c=o[n][r],s=c[0];c[1],s&&!s.parent&&(console.warn(t),this.debugSand(n*m,r*m,cc.Color.BLACK))}if(this.sandRoot.children.length!==i){console.warn(t),this.pause=!0,console.log("childLen",i,this.sandRoot.children.length);var l=a(this.sandRoot.children);for(n=0;n<y;n++)for(r=0;r<v;r++)if(o[n][r]){var u=o[n][r];s=u[0],u[1],l.splice(l.indexOf(s),1)}l.forEach(function(o){console.warn(t),e.debugSand(o.x,o.y,cc.Color.CYAN)})}},e.group=["GameScene"],e.skin="GameScene",e._ins=null,r([_(cc.Prefab)],e.prototype,"sandPrefab",void 0),r([_(cc.Node)],e.prototype,"sandBlock",void 0),r([_(p.default)],e.prototype,"sandBlockTS",void 0),r([_(cc.Node)],e.prototype,"sandRoot",void 0),o=r([f],e)}(l.default);o.default=b,cc._RF.pop()},{"../../../Module/Scene":"Scene","../../Game/config/GameCfg":"GameCfg","../../Utils/Utils":"Utils","./SandBlock":"SandBlock"}],Hasher:[function(t,e,o){"use strict";cc._RF.push(e,"1bc13dCzY5JTJcYU4cZ7cGp","Hasher");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Hasher=void 0;var r=function(t){function e(e){var o=t.call(this,Object.assign({blockSize:16},e))||this;return o.reset(),o}return n(e,t),e._createHelper=function(t){return function(e,o){return new t(o).finalize(e)}},e.prototype.update=function(t){return this._append(t),this._process(),this},e.prototype.finalize=function(t){return t&&this._append(t),this._doFinalize()},e}(t("../lib/BufferedBlockAlgorithm").BufferedBlockAlgorithm);o.Hasher=r,cc._RF.pop()},{"../lib/BufferedBlockAlgorithm":"BufferedBlockAlgorithm"}],Hex:[function(t,e,o){"use strict";cc._RF.push(e,"38155NAUHJOgYfd+cDna9Dx","Hex"),Object.defineProperty(o,"__esModule",{value:!0}),o.Hex=void 0;var i=t("../lib/WordArray"),n=function(){function t(){}return t.stringify=function(t){for(var e=[],o=0;o<t.sigBytes;o++){var i=t.words[o>>>2]>>>24-o%4*8&255;e.push((i>>>4).toString(16)),e.push((15&i).toString(16))}return e.join("")},t.parse=function(t){for(var e=t.length,o=[],n=0;n<e;n+=2)o[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new i.WordArray(o,e/2)},t}();o.Hex=n,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],ImgFixedSize:[function(t,e,o){"use strict";cc._RF.push(e,"877fdDVPX9Da5/8Cs7cTZFf","ImgFixedSize");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,l=c.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._fixedSize=1,e}return n(e,t),Object.defineProperty(e.prototype,"fixedSize",{get:function(){return this._fixedSize},set:function(t){this._fixedSize=t,this.onSizeChanged()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._fixedSize=this.fixedSize,this.node.on(cc.Node.EventType.SIZE_CHANGED,this.onSizeChanged,this),this.onSizeChanged()},e.prototype.onSizeChanged=function(){var t=this.node.width,e=this.node.height,o=Math.max(t,e);this.node.scale=this.fixedSize/o},r([a({type:cc.Integer,tooltip:"\u56fa\u5b9a\u5c3a\u5bf8"})],e.prototype,"fixedSize",null),r([a({type:cc.Integer,tooltip:"\u56fa\u5b9a\u5c3a\u5bf8"})],e.prototype,"_fixedSize",void 0),r([s,l("framework/ImgFixedSize")],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],JoyStick:[function(t,e,o){"use strict";cc._RF.push(e,"90afaWTJ4dP9J/g3Zz8mgO3","JoyStick");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.outer=null,e.inner=null,e._dir=cc.v2(),e}return n(e,t),Object.defineProperty(e.prototype,"dir",{get:function(){return this._dir},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEC,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEC,this)},e.prototype.setDirection=function(t){var e=t.normalize(),o=t.len();o<20?e.set(cc.Vec2.ZERO):o>100&&(o=100),this.inner.setPosition(e.mulSelf(o)),this._dir.set(e)},e.prototype.onTouchStart=function(t){var e=this.node.convertToNodeSpaceAR(t.getLocation());this.setDirection(e)},e.prototype.onTouchMove=function(t){var e=this.node.convertToNodeSpaceAR(t.getLocation());this.setDirection(e)},e.prototype.onTouchEC=function(){this.setDirection(cc.Vec2.ZERO)},r([a(cc.Node)],e.prototype,"outer",void 0),r([a(cc.Node)],e.prototype,"inner",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],KDF:[function(t,e,o){"use strict";cc._RF.push(e,"ba7a2MRReVJ6YcbuLRftyGq","KDF"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],Latin1:[function(t,e,o){"use strict";cc._RF.push(e,"4d1aaxWTg9Nbpi73MEhd95I","Latin1"),Object.defineProperty(o,"__esModule",{value:!0}),o.Latin1=void 0;var i=t("../lib/WordArray"),n=function(){function t(){}return t.stringify=function(t){for(var e=[],o=0;o<t.sigBytes;o++){var i=t.words[o>>>2]>>>24-o%4*8&255;e.push(String.fromCharCode(i))}return e.join("")},t.parse=function(t){for(var e=t.length,o=[],n=0;n<e;n++)o[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new i.WordArray(o,e)},t}();o.Latin1=n,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],ListItem:[function(t,e,o){"use strict";cc._RF.push(e,"ef790ePQO1GTb4Cfs3HPk4Z","ListItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c,s=cc._decorator,a=s.ccclass,l=s.property,u=s.disallowMultiple,p=s.menu,h=s.executionOrder;(function(t){t[t.NONE=0]="NONE",t[t.TOGGLE=1]="TOGGLE",t[t.SWITCH=2]="SWITCH"})(c||(c={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.title=null,e.selectedMode=c.NONE,e.selectedFlag=null,e.selectedSpriteFrame=null,e._unselectedSpriteFrame=null,e.adaptiveSize=!1,e._selected=!1,e._eventReg=!1,e}return n(e,t),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){if(this._selected=t,this.selectedFlag)switch(this.selectedMode){case c.TOGGLE:this.selectedFlag.active=t;break;case c.SWITCH:var e=this.selectedFlag.getComponent(cc.Sprite);e&&(e.spriteFrame=t?this.selectedSpriteFrame:this._unselectedSpriteFrame)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"btnCom",{get:function(){return this._btnCom||(this._btnCom=this.node.getComponent(cc.Button)),this._btnCom},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){if(this.selectedMode==c.SWITCH){var t=this.selectedFlag.getComponent(cc.Sprite);this._unselectedSpriteFrame=t.spriteFrame}},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this)},e.prototype._registerEvent=function(){this._eventReg||(this.btnCom&&this.list.selectedMode>0&&this.btnCom.clickEvents.unshift(this.createEvt(this,"onClickThis")),this.adaptiveSize&&this.node.on(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this),this._eventReg=!0)},e.prototype._onSizeChange=function(){this.list._onItemAdaptive(this.node)},e.prototype.createEvt=function(t,e,o){if(void 0===o&&(o=null),t.isValid){t.comName=t.comName||t.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g,"");var i=new cc.Component.EventHandler;return i.target=o||t.node,i.component=t.comName,i.handler=e,i}},e.prototype.showAni=function(t,e,o){var i,n=this;switch(t){case 0:i=cc.tween(n.node).to(.2,{scale:.7}).by(.3,{y:2*n.node.height});break;case 1:i=cc.tween(n.node).to(.2,{scale:.7}).by(.3,{x:2*n.node.width});break;case 2:i=cc.tween(n.node).to(.2,{scale:.7}).by(.3,{y:-2*n.node.height});break;case 3:i=cc.tween(n.node).to(.2,{scale:.7}).by(.3,{x:-2*n.node.width});break;default:i=cc.tween(n.node).to(.3,{scale:.1})}(e||o)&&i.call(function(){if(o){n.list._delSingleItem(n.node);for(var t=n.list.displayData.length-1;t>=0;t--)if(n.list.displayData[t].id==n.listId){n.list.displayData.splice(t,1);break}}e()}),i.start()},e.prototype.onClickThis=function(){this.list.selectedId=this.listId},r([l({type:cc.Sprite,tooltip:!1})],e.prototype,"icon",void 0),r([l({type:cc.Node,tooltip:!1})],e.prototype,"title",void 0),r([l({type:cc.Enum(c),tooltip:!1})],e.prototype,"selectedMode",void 0),r([l({type:cc.Node,tooltip:!1,visible:function(){return this.selectedMode>c.NONE}})],e.prototype,"selectedFlag",void 0),r([l({type:cc.SpriteFrame,tooltip:!1,visible:function(){return this.selectedMode==c.SWITCH}})],e.prototype,"selectedSpriteFrame",void 0),r([l({tooltip:!1})],e.prototype,"adaptiveSize",void 0),r([a,u(),p("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List Item"),h(-5001)],e)}(cc.Component);o.default=d,cc._RF.pop()},{}],List:[function(t,e,o){"use strict";cc._RF.push(e,"38c20gYEdxBc6a7KZqjLmf+","List");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c,s,a,l=cc._decorator,u=l.ccclass,p=l.property,h=l.disallowMultiple,d=l.menu,f=l.executionOrder,_=l.requireComponent,y=t("./ListItem");(function(t){t[t.NODE=1]="NODE",t[t.PREFAB=2]="PREFAB"})(c||(c={})),function(t){t[t.NORMAL=1]="NORMAL",t[t.ADHERING=2]="ADHERING",t[t.PAGE=3]="PAGE"}(s||(s={})),function(t){t[t.NONE=0]="NONE",t[t.SINGLE=1]="SINGLE",t[t.MULT=2]="MULT"}(a||(a={}));var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateType=c.NODE,e.tmpNode=null,e.tmpPrefab=null,e._slideMode=s.NORMAL,e.pageDistance=.3,e.pageChangeEvent=new cc.Component.EventHandler,e.scrollToEvent=new cc.Component.EventHandler,e._virtual=!0,e.cyclic=!1,e.lackCenter=!1,e.lackSlide=!1,e._updateRate=0,e.frameByFrameRenderNum=0,e.renderEvent=new cc.Component.EventHandler,e.selectedMode=a.NONE,e.repeatEventSingle=!1,e.selectedEvent=new cc.Component.EventHandler,e._selectedId=-1,e._forceUpdate=!1,e._updateDone=!0,e._numItems=0,e._inited=!1,e._needUpdateWidget=!1,e._aniDelRuning=!1,e._doneAfterUpdate=!1,e.adhering=!1,e._adheringBarrier=!1,e.curPageNum=0,e}return n(e,t),Object.defineProperty(e.prototype,"slideMode",{get:function(){return this._slideMode},set:function(t){this._slideMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"virtual",{get:function(){return this._virtual},set:function(t){null!=t&&(this._virtual=t),0!=this._numItems&&this._onScrolling()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateRate",{get:function(){return this._updateRate},set:function(t){t>=0&&t<=6&&(this._updateRate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedId",{get:function(){return this._selectedId},set:function(t){var e,o=this;switch(o.selectedMode){case a.SINGLE:if(!o.repeatEventSingle&&t==o._selectedId)return;e=o.getItemByListId(t);var i=void 0;if(o._selectedId>=0?o._lastSelectedId=o._selectedId:o._lastSelectedId=null,o._selectedId=t,e&&((i=e.getComponent(y.default)).selected=!0),o._lastSelectedId>=0&&o._lastSelectedId!=o._selectedId){var n=o.getItemByListId(o._lastSelectedId);n&&(n.getComponent(y.default).selected=!1)}o.selectedEvent&&cc.Component.EventHandler.emitEvents([o.selectedEvent],e,t%this._actualNumItems,null==o._lastSelectedId?null:o._lastSelectedId%this._actualNumItems);break;case a.MULT:if(!(e=o.getItemByListId(t)))return;i=e.getComponent(y.default),o._selectedId>=0&&(o._lastSelectedId=o._selectedId),o._selectedId=t;var r=!i.selected;i.selected=r;var c=o.multSelected.indexOf(t);r&&c<0?o.multSelected.push(t):!r&&c>=0&&o.multSelected.splice(c,1),o.selectedEvent&&cc.Component.EventHandler.emitEvents([o.selectedEvent],e,t%this._actualNumItems,null==o._lastSelectedId?null:o._lastSelectedId%this._actualNumItems,r)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numItems",{get:function(){return this._actualNumItems},set:function(t){var e=this;if(e.checkInited(!1))if(null==t||t<0)cc.error("numItems set the wrong::",t);else if(e._actualNumItems=e._numItems=t,e._forceUpdate=!0,e._virtual)e._resizeContent(),e.cyclic&&(e._numItems=e._cyclicNum*e._numItems),e._onScrolling(),e.frameByFrameRenderNum||e.slideMode!=s.PAGE||(e.curPageNum=e.nearestListId);else{e.cyclic&&(e._resizeContent(),e._numItems=e._cyclicNum*e._numItems);var o=e.content.getComponent(cc.Layout);if(o&&(o.enabled=!0),e._delRedundantItem(),e.firstListId=0,e.frameByFrameRenderNum>0){for(var i=e.frameByFrameRenderNum>e._numItems?e._numItems:e.frameByFrameRenderNum,n=0;n<i;n++)e._createOrUpdateItem2(n);e.frameByFrameRenderNum<e._numItems&&(e._updateCounter=e.frameByFrameRenderNum,e._updateDone=!1)}else{for(n=0;n<e._numItems;n++)e._createOrUpdateItem2(n);e.displayItemNum=e._numItems}}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollView",{get:function(){return this._scrollView},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._init()},e.prototype.onDestroy=function(){var t=this;cc.isValid(t._itemTmp)&&t._itemTmp.destroy(),cc.isValid(t.tmpNode)&&t.tmpNode.destroy(),t._pool&&t._pool.clear()},e.prototype.onEnable=function(){this._registerEvent(),this._init(),this._aniDelRuning&&(this._aniDelRuning=!1,this._aniDelItem&&(this._aniDelBeforePos&&(this._aniDelItem.position=this._aniDelBeforePos,delete this._aniDelBeforePos),this._aniDelBeforeScale&&(this._aniDelItem.scale=this._aniDelBeforeScale,delete this._aniDelBeforeScale),delete this._aniDelItem),this._aniDelCB&&(this._aniDelCB(),delete this._aniDelCB))},e.prototype.onDisable=function(){this._unregisterEvent()},e.prototype._registerEvent=function(){var t=this;t.node.on(cc.Node.EventType.TOUCH_START,t._onTouchStart,t,!0),t.node.on("touch-up",t._onTouchUp,t),t.node.on(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.on("scroll-began",t._onScrollBegan,t,!0),t.node.on("scroll-ended",t._onScrollEnded,t,!0),t.node.on("scrolling",t._onScrolling,t,!0),t.node.on(cc.Node.EventType.SIZE_CHANGED,t._onSizeChanged,t)},e.prototype._unregisterEvent=function(){var t=this;t.node.off(cc.Node.EventType.TOUCH_START,t._onTouchStart,t,!0),t.node.off("touch-up",t._onTouchUp,t),t.node.off(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.off("scroll-began",t._onScrollBegan,t,!0),t.node.off("scroll-ended",t._onScrollEnded,t,!0),t.node.off("scrolling",t._onScrolling,t,!0),t.node.off(cc.Node.EventType.SIZE_CHANGED,t._onSizeChanged,t)},e.prototype._init=function(){var t=this;if(!t._inited)if(t._scrollView=t.node.getComponent(cc.ScrollView),t.content=t._scrollView.content,t.content){switch(t._layout=t.content.getComponent(cc.Layout),t._align=t._layout.type,t._resizeMode=t._layout.resizeMode,t._startAxis=t._layout.startAxis,t._topGap=t._layout.paddingTop,t._rightGap=t._layout.paddingRight,t._bottomGap=t._layout.paddingBottom,t._leftGap=t._layout.paddingLeft,t._columnGap=t._layout.spacingX,t._lineGap=t._layout.spacingY,t._colLineNum,t._verticalDir=t._layout.verticalDirection,t._horizontalDir=t._layout.horizontalDirection,t.setTemplateItem(cc.instantiate(t.templateType==c.PREFAB?t.tmpPrefab:t.tmpNode)),t._slideMode!=s.ADHERING&&t._slideMode!=s.PAGE||(t._scrollView.inertia=!1,t._scrollView._onMouseWheel=function(){}),t.virtual||(t.lackCenter=!1),t._lastDisplayData=[],t.displayData=[],t._pool=new cc.NodePool,t._forceUpdate=!1,t._updateCounter=0,t._updateDone=!0,t.curPageNum=0,t.cyclic&&(t._scrollView._processAutoScrolling=this._processAutoScrolling.bind(t),t._scrollView._startBounceBackIfNeeded=function(){return!1}),t._align){case cc.Layout.Type.HORIZONTAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}break;case cc.Layout.Type.VERTICAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.Type.GRID:switch(t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.AxisDirection.VERTICAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}}}t.content.removeAllChildren(),t._inited=!0}else cc.error(t.node.name+"'s cc.ScrollView unset content!")},e.prototype._processAutoScrolling=function(t){this._scrollView._autoScrollAccumulatedTime+=1*t;var e=Math.min(1,this._scrollView._autoScrollAccumulatedTime/this._scrollView._autoScrollTotalTime);if(this._scrollView._autoScrollAttenuate){var o=e-1;e=o*o*o*o*o+1}var i=this._scrollView._autoScrollStartPosition.add(this._scrollView._autoScrollTargetDelta.mul(e)),n=this._scrollView.getScrollEndedEventTiming(),r=Math.abs(e-1)<=n;Math.abs(e-1)<=this._scrollView.getScrollEndedEventTiming()&&!this._scrollView._isScrollEndedWithThresholdEventFired&&(this._scrollView._dispatchEvent("scroll-ended-with-threshold"),this._scrollView._isScrollEndedWithThresholdEventFired=!0),r&&(this._scrollView._autoScrolling=!1);var c=i.sub(this._scrollView.getContentPosition());this._scrollView._moveContent(this._scrollView._clampDelta(c),r),this._scrollView._dispatchEvent("scrolling"),this._scrollView._autoScrolling||(this._scrollView._isBouncing=!1,this._scrollView._scrolling=!1,this._scrollView._dispatchEvent("scroll-ended"))},e.prototype.setTemplateItem=function(t){if(t){var e=this;e._itemTmp=t,e._resizeMode==cc.Layout.ResizeMode.CHILDREN?e._itemSize=e._layout.cellSize:e._itemSize=cc.size(t.width,t.height);var o=t.getComponent(y.default),i=!1;switch(o||(i=!0),i&&(e.selectedMode=a.NONE),(o=t.getComponent(cc.Widget))&&o.enabled&&(e._needUpdateWidget=!0),e.selectedMode==a.MULT&&(e.multSelected=[]),e._align){case cc.Layout.Type.HORIZONTAL:e._colLineNum=1,e._sizeType=!1;break;case cc.Layout.Type.VERTICAL:e._colLineNum=1,e._sizeType=!0;break;case cc.Layout.Type.GRID:switch(e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var n=e.content.width-e._leftGap-e._rightGap;e._colLineNum=Math.floor((n+e._columnGap)/(e._itemSize.width+e._columnGap)),e._sizeType=!0;break;case cc.Layout.AxisDirection.VERTICAL:var r=e.content.height-e._topGap-e._bottomGap;e._colLineNum=Math.floor((r+e._lineGap)/(e._itemSize.height+e._lineGap)),e._sizeType=!1}}}},e.prototype.checkInited=function(t){return void 0===t&&(t=!0),!!this._inited||(t&&cc.error("List initialization not completed!"),!1)},e.prototype._resizeContent=function(){var t,e=this;switch(e._align){case cc.Layout.Type.HORIZONTAL:if(e._customSize){var o=e._getFixedSize(null);t=e._leftGap+o.val+e._itemSize.width*(e._numItems-o.count)+e._columnGap*(e._numItems-1)+e._rightGap}else t=e._leftGap+e._itemSize.width*e._numItems+e._columnGap*(e._numItems-1)+e._rightGap;break;case cc.Layout.Type.VERTICAL:e._customSize?(o=e._getFixedSize(null),t=e._topGap+o.val+e._itemSize.height*(e._numItems-o.count)+e._lineGap*(e._numItems-1)+e._bottomGap):t=e._topGap+e._itemSize.height*e._numItems+e._lineGap*(e._numItems-1)+e._bottomGap;break;case cc.Layout.Type.GRID:switch(e.lackCenter&&(e.lackCenter=!1),e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var i=Math.ceil(e._numItems/e._colLineNum);t=e._topGap+e._itemSize.height*i+e._lineGap*(i-1)+e._bottomGap;break;case cc.Layout.AxisDirection.VERTICAL:var n=Math.ceil(e._numItems/e._colLineNum);t=e._leftGap+e._itemSize.width*n+e._columnGap*(n-1)+e._rightGap}}var r=e.content.getComponent(cc.Layout);if(r&&(r.enabled=!1),e._allItemSize=t,e._allItemSizeNoEdge=e._allItemSize-(e._sizeType?e._topGap+e._bottomGap:e._leftGap+e._rightGap),e.cyclic){var c=e._sizeType?e.node.height:e.node.width;e._cyclicPos1=0,c-=e._cyclicPos1,e._cyclicNum=Math.ceil(c/e._allItemSizeNoEdge)+1;var s=e._sizeType?e._lineGap:e._columnGap;e._cyclicPos2=e._cyclicPos1+e._allItemSizeNoEdge+s,e._cyclicAllItemSize=e._allItemSize+e._allItemSizeNoEdge*(e._cyclicNum-1)+s*(e._cyclicNum-1),e._cycilcAllItemSizeNoEdge=e._allItemSizeNoEdge*e._cyclicNum,e._cycilcAllItemSizeNoEdge+=s*(e._cyclicNum-1)}e._lack=!e.cyclic&&e._allItemSize<(e._sizeType?e.node.height:e.node.width);var a=e._lack&&e.lackCenter||!e.lackSlide?.1:0,l=e._lack?(e._sizeType?e.node.height:e.node.width)-a:e.cyclic?e._cyclicAllItemSize:e._allItemSize;l<0&&(l=0),e._sizeType?e.content.height=l:e.content.width=l},e.prototype._onScrolling=function(t){if(void 0===t&&(t=null),null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&t&&"scroll-ended"!=t.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning){if(this.cyclic){var e=this.content.getPosition();e=this._sizeType?e.y:e.x;var o=this._allItemSizeNoEdge+(this._sizeType?this._lineGap:this._columnGap),i=this._sizeType?cc.v2(0,o):cc.v2(o,0);switch(this._alignCalcType){case 1:e>-this._cyclicPos1?(this.content.x=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i))):e<-this._cyclicPos2&&(this.content.x=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i)));break;case 2:e<this._cyclicPos1?(this.content.x=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i))):e>this._cyclicPos2&&(this.content.x=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i)));break;case 3:e<this._cyclicPos1?(this.content.y=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i))):e>this._cyclicPos2&&(this.content.y=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i)));break;case 4:e>-this._cyclicPos1?(this.content.y=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i))):e<-this._cyclicPos2&&(this.content.y=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i)))}}var n,r,c,s;if(this._calcViewPos(),this._sizeType?(n=this.viewTop,c=this.viewBottom):(r=this.viewRight,s=this.viewLeft),this._virtual){this.displayData=[];var a=void 0,l=0,u=this._numItems-1;if(this._customSize)for(var p=!1;l<=u&&!p;l++)switch(a=this._calcItemPos(l),this._align){case cc.Layout.Type.HORIZONTAL:a.right>=s&&a.left<=r?this.displayData.push(a):0!=l&&this.displayData.length>0&&(p=!0);break;case cc.Layout.Type.VERTICAL:a.bottom<=n&&a.top>=c?this.displayData.push(a):0!=l&&this.displayData.length>0&&(p=!0);break;case cc.Layout.Type.GRID:switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:a.bottom<=n&&a.top>=c?this.displayData.push(a):0!=l&&this.displayData.length>0&&(p=!0);break;case cc.Layout.AxisDirection.VERTICAL:a.right>=s&&a.left<=r?this.displayData.push(a):0!=l&&this.displayData.length>0&&(p=!0)}}else{var h=this._itemSize.width+this._columnGap,d=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:l=(s-this._leftGap)/h,u=(r-this._leftGap)/h;break;case 2:l=(-r-this._rightGap)/h,u=(-s-this._rightGap)/h;break;case 3:l=(-n-this._topGap)/d,u=(-c-this._topGap)/d;break;case 4:l=(c-this._bottomGap)/d,u=(n-this._bottomGap)/d}for(l=Math.floor(l)*this._colLineNum,u=Math.ceil(u)*this._colLineNum,l<0&&(l=0),--u>=this._numItems&&(u=this._numItems-1);l<=u;l++)this.displayData.push(this._calcItemPos(l))}if(this._delRedundantItem(),this.displayData.length<=0||!this._numItems)return void(this._lastDisplayData=[]);this.firstListId=this.displayData[0].id,this.displayItemNum=this.displayData.length;var f=this._lastDisplayData.length,_=this.displayItemNum!=f;if(_&&(this.frameByFrameRenderNum>0&&this._lastDisplayData.sort(function(t,e){return t-e}),_=this.firstListId!=this._lastDisplayData[0]||this.displayData[this.displayItemNum-1].id!=this._lastDisplayData[f-1]),this._forceUpdate||_)if(this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._updateCounter=0,this._updateDone=!0);else{this._lastDisplayData=[];for(var y=0;y<this.displayItemNum;y++)this._createOrUpdateItem(this.displayData[y]);this._forceUpdate=!1}this._calcNearestItem()}}},e.prototype._calcViewPos=function(){var t=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=t.x>0?t.x:0,this.viewLeft=(t.x<0?-t.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this.node.width,this.elasticRight=this.viewRight>this.content.width?Math.abs(this.viewRight-this.content.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=t.x<0?-t.x:0,this.viewRight=(t.x>0?-t.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this.node.width,this.elasticLeft=this.viewLeft<-this.content.width?Math.abs(this.viewLeft+this.content.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=t.y<0?Math.abs(t.y):0,this.viewTop=(t.y>0?-t.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this.node.height,this.elasticBottom=this.viewBottom<-this.content.height?Math.abs(this.viewBottom+this.content.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=t.y>0?Math.abs(t.y):0,this.viewBottom=(t.y<0?-t.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this.node.height,this.elasticTop=this.viewTop>this.content.height?Math.abs(this.viewTop-this.content.height):0,this.viewTop-=this.elasticTop}},e.prototype._calcItemPos=function(t){var e,o,i,n,r,c,s,a;switch(this._align){case cc.Layout.Type.HORIZONTAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:if(this._customSize){var l=this._getFixedSize(t);r=this._leftGap+(this._itemSize.width+this._columnGap)*(t-l.count)+(l.val+this._columnGap*l.count),e=(u=this._customSize[t])>0?u:this._itemSize.width}else r=this._leftGap+(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;return this.lackCenter&&(r-=this._leftGap,r+=this.content.width/2-this._allItemSizeNoEdge/2),{id:t,left:r,right:c=r+e,x:r+this._itemTmp.anchorX*e,y:this._itemTmp.y};case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:return this._customSize?(l=this._getFixedSize(t),c=-this._rightGap-(this._itemSize.width+this._columnGap)*(t-l.count)-(l.val+this._columnGap*l.count),e=(u=this._customSize[t])>0?u:this._itemSize.width):(c=-this._rightGap-(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width),this.lackCenter&&(c+=this._rightGap,c-=this.content.width/2-this._allItemSizeNoEdge/2),{id:t,right:c,left:r=c-e,x:r+this._itemTmp.anchorX*e,y:this._itemTmp.y}}break;case cc.Layout.Type.VERTICAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:return this._customSize?(l=this._getFixedSize(t),i=-this._topGap-(this._itemSize.height+this._lineGap)*(t-l.count)-(l.val+this._lineGap*l.count),o=(u=this._customSize[t])>0?u:this._itemSize.height):(i=-this._topGap-(this._itemSize.height+this._lineGap)*t,o=this._itemSize.height),this.lackCenter&&(i+=this._topGap,i-=this.content.height/2-this._allItemSizeNoEdge/2),{id:t,top:i,bottom:n=i-o,x:this._itemTmp.x,y:n+this._itemTmp.anchorY*o};case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:var u;if(this._customSize)l=this._getFixedSize(t),n=this._bottomGap+(this._itemSize.height+this._lineGap)*(t-l.count)+(l.val+this._lineGap*l.count),o=(u=this._customSize[t])>0?u:this._itemSize.height;else n=this._bottomGap+(this._itemSize.height+this._lineGap)*t,o=this._itemSize.height;return this.lackCenter&&(n-=this._bottomGap,n+=this.content.height/2-this._allItemSizeNoEdge/2),{id:t,top:i=n+o,bottom:n,x:this._itemTmp.x,y:n+this._itemTmp.anchorY*o}}case cc.Layout.Type.GRID:var p=Math.floor(t/this._colLineNum);switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:a=(n=(i=-this._topGap-(this._itemSize.height+this._lineGap)*p)-this._itemSize.height)+this._itemTmp.anchorY*this._itemSize.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:i=(n=this._bottomGap+(this._itemSize.height+this._lineGap)*p)+this._itemSize.height,a=n+this._itemTmp.anchorY*this._itemSize.height}switch(s=this._leftGap+t%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:s+=this._itemTmp.anchorX*this._itemSize.width,s-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:s+=(1-this._itemTmp.anchorX)*this._itemSize.width,s-=(1-this.content.anchorX)*this.content.width,s*=-1}return{id:t,top:i,bottom:n,x:s,y:a};case cc.Layout.AxisDirection.VERTICAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:c=(r=this._leftGap+(this._itemSize.width+this._columnGap)*p)+this._itemSize.width,s=r+this._itemTmp.anchorX*this._itemSize.width,s-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:s=(r=(c=-this._rightGap-(this._itemSize.width+this._columnGap)*p)-this._itemSize.width)+this._itemTmp.anchorX*this._itemSize.width,s+=(1-this.content.anchorX)*this.content.width}switch(a=-this._topGap-t%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:a-=(1-this._itemTmp.anchorY)*this._itemSize.height,a+=(1-this.content.anchorY)*this.content.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:a-=this._itemTmp.anchorY*this._itemSize.height,a+=this.content.anchorY*this.content.height,a*=-1}return{id:t,left:r,right:c,x:s,y:a}}}},e.prototype._calcExistItemPos=function(t){var e=this.getItemByListId(t);if(!e)return null;var o={id:t,x:e.x,y:e.y};return this._sizeType?(o.top=e.y+e.height*(1-e.anchorY),o.bottom=e.y-e.height*e.anchorY):(o.left=e.x-e.width*e.anchorX,o.right=e.x+e.width*(1-e.anchorX)),o},e.prototype.getItemPos=function(t){return this._virtual?this._calcItemPos(t):this.frameByFrameRenderNum?this._calcItemPos(t):this._calcExistItemPos(t)},e.prototype._getFixedSize=function(t){if(!this._customSize)return null;null==t&&(t=this._numItems);var e=0,o=0;for(var i in this._customSize)parseInt(i)<t&&(e+=this._customSize[i],o++);return{val:e,count:o}},e.prototype._onScrollBegan=function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},e.prototype._onScrollEnded=function(){var t=this;if(t.curScrollIsTouch=!1,null!=t.scrollToListId){var e=t.getItemByListId(t.scrollToListId);t.scrollToListId=null,e&&cc.tween(e).to(.1,{scale:1.06}).to(.1,{scale:1}).start()}t._onScrolling(),t._slideMode!=s.ADHERING||t.adhering?t._slideMode==s.PAGE&&(null!=t._beganPos&&t.curScrollIsTouch?this._pageAdhere():t.adhere()):t.adhere()},e.prototype._onTouchStart=function(t,e){if(!(this._scrollView.hasNestedViewGroup&&this._scrollView.hasNestedViewGroup(t,e)||(this.curScrollIsTouch=!0,t.eventPhase===cc.Event.AT_TARGET&&t.target===this.node))){for(var o=t.target;null==o._listId&&o.parent;)o=o.parent;this._scrollItem=null!=o._listId?o:t.target}},e.prototype._onTouchUp=function(){var t=this;t._scrollPos=null,t._slideMode==s.ADHERING?(this.adhering&&(this._adheringBarrier=!0),t.adhere()):t._slideMode==s.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere()),this._scrollItem=null},e.prototype._onTouchCancelled=function(t,e){var o=this;o._scrollView.hasNestedViewGroup&&o._scrollView.hasNestedViewGroup(t,e)||t.simulate||(o._scrollPos=null,o._slideMode==s.ADHERING?(o.adhering&&(o._adheringBarrier=!0),o.adhere()):o._slideMode==s.PAGE&&(null!=o._beganPos?o._pageAdhere():o.adhere()),this._scrollItem=null)},e.prototype._onSizeChanged=function(){this.checkInited(!1)&&this._onScrolling()},e.prototype._onItemAdaptive=function(t){if(!this._sizeType&&t.width!=this._itemSize.width||this._sizeType&&t.height!=this._itemSize.height){this._customSize||(this._customSize={});var e=this._sizeType?t.height:t.width;this._customSize[t._listId]!=e&&(this._customSize[t._listId]=e,this._resizeContent(),this.updateAll(),null!=this._scrollToListId&&(this._scrollPos=null,this.unschedule(this._scrollToSo),this.scrollTo(this._scrollToListId,Math.max(0,this._scrollToEndTime-(new Date).getTime()/1e3))))}},e.prototype._pageAdhere=function(){var t=this;if(t.cyclic||!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){var e=t._sizeType?t.viewTop:t.viewLeft,o=(t._sizeType?t.node.height:t.node.width)*t.pageDistance;if(Math.abs(t._beganPos-e)>o)switch(t._alignCalcType){case 1:case 4:t._beganPos>e?t.prePage(.5):t.nextPage(.5);break;case 2:case 3:t._beganPos<e?t.prePage(.5):t.nextPage(.5)}else t.elasticTop<=0&&t.elasticRight<=0&&t.elasticBottom<=0&&t.elasticLeft<=0&&t.adhere();t._beganPos=null}},e.prototype.adhere=function(){var t=this;if(t.checkInited()&&!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){t.adhering=!0,t._calcNearestItem();var e=(t._sizeType?t._topGap:t._leftGap)/(t._sizeType?t.node.height:t.node.width);t.scrollTo(t.nearestListId,.7,e)}},e.prototype.update=function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var t=this._updateCounter+this.frameByFrameRenderNum>this.displayItemNum?this.displayItemNum:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++){var o=this.displayData[e];o&&this._createOrUpdateItem(o)}this._updateCounter>=this.displayItemNum-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._doneAfterUpdate=!1):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem(),this.slideMode==s.PAGE&&(this.curPageNum=this.nearestListId)):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(t=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++)this._createOrUpdateItem2(e);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem(),this.slideMode==s.PAGE&&(this.curPageNum=this.nearestListId)},e.prototype._createOrUpdateItem=function(t){var e=this.getItemByListId(t.id);if(e)this._forceUpdate&&this.renderEvent&&(e.setPosition(cc.v2(t.x,t.y)),this._resetItemSize(e),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id%this._actualNumItems));else{var o=this._pool.size()>0;if(e=o?this._pool.get():cc.instantiate(this._itemTmp),o&&cc.isValid(e)||(e=cc.instantiate(this._itemTmp),o=!1),e._listId!=t.id&&(e._listId=t.id,e.setContentSize(this._itemSize)),e.setPosition(cc.v2(t.x,t.y)),this._resetItemSize(e),this.content.addChild(e),o&&this._needUpdateWidget){var i=e.getComponent(cc.Widget);i&&i.updateAlignment()}e.setSiblingIndex(this.content.childrenCount-1);var n=e.getComponent(y.default);e.listItem=n,n&&(n.listId=t.id,n.list=this,n._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id%this._actualNumItems)}this._resetItemSize(e),this._updateListItem(e.listItem),this._lastDisplayData.indexOf(t.id)<0&&this._lastDisplayData.push(t.id)},e.prototype._createOrUpdateItem2=function(t){var e,o=this.content.children[t];o?this._forceUpdate&&this.renderEvent&&(o._listId=t,e&&(e.listId=t),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],o,t%this._actualNumItems)):((o=cc.instantiate(this._itemTmp))._listId=t,this.content.addChild(o),e=o.getComponent(y.default),o.listItem=e,e&&(e.listId=t,e.list=this,e._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],o,t%this._actualNumItems)),this._updateListItem(e),this._lastDisplayData.indexOf(t)<0&&this._lastDisplayData.push(t)},e.prototype._updateListItem=function(t){if(t&&this.selectedMode>a.NONE){var e=t.node;switch(this.selectedMode){case a.SINGLE:t.selected=this.selectedId==e._listId;break;case a.MULT:t.selected=this.multSelected.indexOf(e._listId)>=0}}},e.prototype._resetItemSize=function(){},e.prototype._updateItemPos=function(t){var e=isNaN(t)?t:this.getItemByListId(t),o=this.getItemPos(e._listId);e.setPosition(o.x,o.y)},e.prototype.setMultSelected=function(t,e){var o=this;if(o.checkInited()){if(Array.isArray(t)||(t=[t]),null==e)o.multSelected=t;else{var i=void 0,n=void 0;if(e)for(var r=t.length-1;r>=0;r--)i=t[r],(n=o.multSelected.indexOf(i))<0&&o.multSelected.push(i);else for(r=t.length-1;r>=0;r--)i=t[r],(n=o.multSelected.indexOf(i))>=0&&o.multSelected.splice(n,1)}o._forceUpdate=!0,o._onScrolling()}},e.prototype.getMultSelected=function(){return this.multSelected},e.prototype.hasMultSelected=function(t){return this.multSelected&&this.multSelected.indexOf(t)>=0},e.prototype.updateItem=function(t){if(this.checkInited()){Array.isArray(t)||(t=[t]);for(var e=0,o=t.length;e<o;e++){var i=t[e],n=this.getItemByListId(i);n&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,i%this._actualNumItems)}}},e.prototype.updateAll=function(){this.checkInited()&&(this.numItems=this.numItems)},e.prototype.getItemByListId=function(t){if(this.content)for(var e=this.content.childrenCount-1;e>=0;e--){var o=this.content.children[e];if(o._listId==t)return o}},e.prototype._getOutsideItem=function(){for(var t,e=[],o=this.content.childrenCount-1;o>=0;o--)t=this.content.children[o],this.displayData.find(function(e){return e.id==t._listId})||e.push(t);return e},e.prototype._delRedundantItem=function(){if(this._virtual)for(var t=this._getOutsideItem(),e=t.length-1;e>=0;e--){var o=t[e];if(!this._scrollItem||o._listId!=this._scrollItem._listId){o.isCached=!0,this._pool.put(o);for(var i=this._lastDisplayData.length-1;i>=0;i--)if(this._lastDisplayData[i]==o._listId){this._lastDisplayData.splice(i,1);break}}}else for(;this.content.childrenCount>this._numItems;)this._delSingleItem(this.content.children[this.content.childrenCount-1])},e.prototype._delSingleItem=function(t){t.removeFromParent(),t.destroy&&t.destroy(),t=null},e.prototype.aniDelItem=function(t,e,o){var i=this;if(!i.checkInited()||i.cyclic||!i._virtual)return cc.error("This function is not allowed to be called!");if(!e)return cc.error("CallFunc are not allowed to be NULL, You need to delete the corresponding index in the data array in the CallFunc!");if(i._aniDelRuning)return cc.warn("Please wait for the current deletion to finish!");var n,r=i.getItemByListId(t);if(r){n=r.getComponent(y.default),i._aniDelRuning=!0,i._aniDelCB=e,i._aniDelItem=r,i._aniDelBeforePos=r.position,i._aniDelBeforeScale=r.scale;var c=i.displayData[i.displayData.length-1].id,s=n.selected;n.showAni(o,function(){var o,n,l;if(c<i._numItems-2&&(o=c+1),null!=o){var u=i._calcItemPos(o);i.displayData.push(u),i._virtual?i._createOrUpdateItem(u):i._createOrUpdateItem2(o)}else i._numItems--;if(i.selectedMode==a.SINGLE)s?i._selectedId=-1:i._selectedId-1>=0&&i._selectedId--;else if(i.selectedMode==a.MULT&&i.multSelected.length){var p=i.multSelected.indexOf(t);p>=0&&i.multSelected.splice(p,1);for(var h=i.multSelected.length-1;h>=0;h--)(_=i.multSelected[h])>=t&&i.multSelected[h]--}if(i._customSize){i._customSize[t]&&delete i._customSize[t];var d={},f=void 0;for(var _ in i._customSize){f=i._customSize[_];var y=parseInt(_);d[y-(y>=t?1:0)]=f}i._customSize=d}for(h=null!=o?o:c;h>=t+1;h--)if(r=i.getItemByListId(h)){var v=i._calcItemPos(h-1);n=cc.tween(r).to(.2333,{position:cc.v2(v.x,v.y)}),h<=t+1&&(l=!0,n.call(function(){i._aniDelRuning=!1,e(t),delete i._aniDelCB})),n.start()}l||(i._aniDelRuning=!1,e(t),i._aniDelCB=null)},!0)}else e(t)},e.prototype.scrollTo=function(t,e,o,i){void 0===e&&(e=.5),void 0===o&&(o=null),void 0===i&&(i=!1);var n=this;if(n.checkInited(!1)){cc.Component.EventHandler.emitEvents([n.scrollToEvent]),null==e?e=.5:e<0&&(e=0),t<0?t=0:t>=n._numItems&&(t=n._numItems-1),!n._virtual&&n._layout&&n._layout.enabled&&n._layout.updateLayout();var r,c,s=n.getItemPos(t);if(!s)return!1;switch(n._alignCalcType){case 1:r=s.left,r-=null!=o?n.node.width*o:n._leftGap,s=cc.v2(r,0);break;case 2:r=s.right-n.node.width,r+=null!=o?n.node.width*o:n._rightGap,s=cc.v2(r+n.content.width,0);break;case 3:c=s.top,c+=null!=o?n.node.height*o:n._topGap,s=cc.v2(0,-c);break;case 4:c=s.bottom+n.node.height,c-=null!=o?n.node.height*o:n._bottomGap,s=cc.v2(0,-c+n.content.height)}var a=n.content.getPosition();a=Math.abs(n._sizeType?a.y:a.x);var l=n._sizeType?s.y:s.x;Math.abs((null!=n._scrollPos?n._scrollPos:a)-l)>.5&&(n._scrollView.scrollToOffset(s,e),n._scrollToListId=t,n._scrollToEndTime=(new Date).getTime()/1e3+e,n._scrollToSo=n.scheduleOnce(function(){if(n._adheringBarrier||(n.adhering=n._adheringBarrier=!1),n._scrollPos=n._scrollToListId=n._scrollToEndTime=n._scrollToSo=null,i){var e=n.getItemByListId(t);e&&cc.tween(e).to(.1,{scale:1.05}).to(.1,{scale:1}).start()}},e+.1),e<=0&&n._onScrolling())}},e.prototype._calcNearestItem=function(){var t,e,o,i,n,r,c=this;c.nearestListId=null,c._virtual&&c._calcViewPos(),o=c.viewTop,i=c.viewRight,n=c.viewBottom,r=c.viewLeft;for(var s=!1,a=0;a<c.content.childrenCount&&!s;a+=c._colLineNum)if(t=c._virtual?c.displayData[a]:c._calcExistItemPos(a))switch(e=c._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,c._alignCalcType){case 1:t.right>=r&&(c.nearestListId=t.id,r>e&&(c.nearestListId+=c._colLineNum),s=!0);break;case 2:t.left<=i&&(c.nearestListId=t.id,i<e&&(c.nearestListId+=c._colLineNum),s=!0);break;case 3:t.bottom<=o&&(c.nearestListId=t.id,o<e&&(c.nearestListId+=c._colLineNum),s=!0);break;case 4:t.top>=n&&(c.nearestListId=t.id,n>e&&(c.nearestListId+=c._colLineNum),s=!0)}if((t=c._virtual?c.displayData[c.displayItemNum-1]:c._calcExistItemPos(c._numItems-1))&&t.id==c._numItems-1)switch(e=c._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,c._alignCalcType){case 1:i>e&&(c.nearestListId=t.id);break;case 2:r<e&&(c.nearestListId=t.id);break;case 3:n<e&&(c.nearestListId=t.id);break;case 4:o>e&&(c.nearestListId=t.id)}},e.prototype.prePage=function(t){void 0===t&&(t=.5),this.checkInited()&&this.skipPage(this.curPageNum-1,t)},e.prototype.nextPage=function(t){void 0===t&&(t=.5),this.checkInited()&&this.skipPage(this.curPageNum+1,t)},e.prototype.skipPage=function(t,e){var o=this;if(o.checkInited())return o._slideMode!=s.PAGE?cc.error("This function is not allowed to be called, Must SlideMode = PAGE!"):void(t<0||t>=o._numItems||o.curPageNum!=t&&(o.curPageNum=t,o.pageChangeEvent&&cc.Component.EventHandler.emitEvents([o.pageChangeEvent],t),o.scrollTo(t,e)))},e.prototype.calcCustomSize=function(t){var e=this;if(e.checkInited()){if(!e._itemTmp)return cc.error("Unset template item!");if(!e.renderEvent)return cc.error("Unset Render-Event!");e._customSize={};var o=cc.instantiate(e._itemTmp);e.content.addChild(o);for(var i=0;i<t;i++)cc.Component.EventHandler.emitEvents([e.renderEvent],o,i),o.height==e._itemSize.height&&o.width==e._itemSize.width||(e._customSize[i]=e._sizeType?o.height:o.width);return Object.keys(e._customSize).length||(e._customSize=null),o.removeFromParent(),o.destroy&&o.destroy(),e._customSize}},r([p({type:cc.Enum(c),tooltip:!1})],e.prototype,"templateType",void 0),r([p({type:cc.Node,tooltip:!1,visible:function(){return this.templateType==c.NODE}})],e.prototype,"tmpNode",void 0),r([p({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType==c.PREFAB}})],e.prototype,"tmpPrefab",void 0),r([p()],e.prototype,"_slideMode",void 0),r([p({type:cc.Enum(s),tooltip:!1})],e.prototype,"slideMode",null),r([p({type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this._slideMode==s.PAGE}})],e.prototype,"pageDistance",void 0),r([p({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this._slideMode==s.PAGE}})],e.prototype,"pageChangeEvent",void 0),r([p({type:cc.Component.EventHandler,tooltip:!1})],e.prototype,"scrollToEvent",void 0),r([p()],e.prototype,"_virtual",void 0),r([p({type:cc.Boolean,tooltip:!1})],e.prototype,"virtual",null),r([p({tooltip:!1,visible:function(){var t=this.slideMode==s.NORMAL;return t||(this.cyclic=!1),t}})],e.prototype,"cyclic",void 0),r([p({tooltip:!1,visible:function(){return this.virtual}})],e.prototype,"lackCenter",void 0),r([p({tooltip:!1,visible:function(){var t=this.virtual&&!this.lackCenter;return t||(this.lackSlide=!1),t}})],e.prototype,"lackSlide",void 0),r([p({type:cc.Integer})],e.prototype,"_updateRate",void 0),r([p({type:cc.Integer,range:[0,6,1],tooltip:!1,slide:!0})],e.prototype,"updateRate",null),r([p({type:cc.Integer,range:[0,12,1],tooltip:!1,slide:!0})],e.prototype,"frameByFrameRenderNum",void 0),r([p({type:cc.Component.EventHandler,tooltip:!1})],e.prototype,"renderEvent",void 0),r([p({type:cc.Enum(a),tooltip:!1})],e.prototype,"selectedMode",void 0),r([p({tooltip:!1,visible:function(){return this.selectedMode==a.SINGLE}})],e.prototype,"repeatEventSingle",void 0),r([p({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this.selectedMode>a.NONE}})],e.prototype,"selectedEvent",void 0),r([p({serializable:!1})],e.prototype,"_numItems",void 0),r([u,h(),d("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List"),_(cc.ScrollView),f(-5e3)],e)}(cc.Component);o.default=v,cc._RF.pop()},{"./ListItem":"ListItem"}],MD5:[function(t,e,o){"use strict";cc._RF.push(e,"e2043IEWMdBrr02oi+HTSVK","MD5");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.MD5=void 0;for(var r=t("../lib/Hasher"),c=t("../lib/WordArray"),s=[],a=0;a<64;a++)s[a]=4294967296*Math.abs(Math.sin(a+1))|0;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.FF=function(t,e,o,i,n,r,c){var s=t+(e&o|~e&i)+n+c;return(s<<r|s>>>32-r)+e},e.GG=function(t,e,o,i,n,r,c){var s=t+(e&i|o&~i)+n+c;return(s<<r|s>>>32-r)+e},e.HH=function(t,e,o,i,n,r,c){var s=t+(e^o^i)+n+c;return(s<<r|s>>>32-r)+e},e.II=function(t,e,o,i,n,r,c){var s=t+(o^(e|~i))+n+c;return(s<<r|s>>>32-r)+e},e.prototype.reset=function(){t.prototype.reset.call(this),this._hash=new c.WordArray([1732584193,4023233417,2562383102,271733878])},e.prototype._doProcessBlock=function(t,o){for(var i=0;i<16;i++){var n=o+i,r=t[n];t[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var c=this._hash.words,a=t[o+0],l=t[o+1],u=t[o+2],p=t[o+3],h=t[o+4],d=t[o+5],f=t[o+6],_=t[o+7],y=t[o+8],v=t[o+9],m=t[o+10],g=t[o+11],b=t[o+12],w=t[o+13],S=t[o+14],P=t[o+15],C=c[0],O=c[1],T=c[2],R=c[3];C=e.FF(C,O,T,R,a,7,s[0]),R=e.FF(R,C,O,T,l,12,s[1]),T=e.FF(T,R,C,O,u,17,s[2]),O=e.FF(O,T,R,C,p,22,s[3]),C=e.FF(C,O,T,R,h,7,s[4]),R=e.FF(R,C,O,T,d,12,s[5]),T=e.FF(T,R,C,O,f,17,s[6]),O=e.FF(O,T,R,C,_,22,s[7]),C=e.FF(C,O,T,R,y,7,s[8]),R=e.FF(R,C,O,T,v,12,s[9]),T=e.FF(T,R,C,O,m,17,s[10]),O=e.FF(O,T,R,C,g,22,s[11]),C=e.FF(C,O,T,R,b,7,s[12]),R=e.FF(R,C,O,T,w,12,s[13]),T=e.FF(T,R,C,O,S,17,s[14]),O=e.FF(O,T,R,C,P,22,s[15]),C=e.GG(C,O,T,R,l,5,s[16]),R=e.GG(R,C,O,T,f,9,s[17]),T=e.GG(T,R,C,O,g,14,s[18]),O=e.GG(O,T,R,C,a,20,s[19]),C=e.GG(C,O,T,R,d,5,s[20]),R=e.GG(R,C,O,T,m,9,s[21]),T=e.GG(T,R,C,O,P,14,s[22]),O=e.GG(O,T,R,C,h,20,s[23]),C=e.GG(C,O,T,R,v,5,s[24]),R=e.GG(R,C,O,T,S,9,s[25]),T=e.GG(T,R,C,O,p,14,s[26]),O=e.GG(O,T,R,C,y,20,s[27]),C=e.GG(C,O,T,R,w,5,s[28]),R=e.GG(R,C,O,T,u,9,s[29]),T=e.GG(T,R,C,O,_,14,s[30]),O=e.GG(O,T,R,C,b,20,s[31]),C=e.HH(C,O,T,R,d,4,s[32]),R=e.HH(R,C,O,T,y,11,s[33]),T=e.HH(T,R,C,O,g,16,s[34]),O=e.HH(O,T,R,C,S,23,s[35]),C=e.HH(C,O,T,R,l,4,s[36]),R=e.HH(R,C,O,T,h,11,s[37]),T=e.HH(T,R,C,O,_,16,s[38]),O=e.HH(O,T,R,C,m,23,s[39]),C=e.HH(C,O,T,R,w,4,s[40]),R=e.HH(R,C,O,T,a,11,s[41]),T=e.HH(T,R,C,O,p,16,s[42]),O=e.HH(O,T,R,C,f,23,s[43]),C=e.HH(C,O,T,R,v,4,s[44]),R=e.HH(R,C,O,T,b,11,s[45]),T=e.HH(T,R,C,O,P,16,s[46]),O=e.HH(O,T,R,C,u,23,s[47]),C=e.II(C,O,T,R,a,6,s[48]),R=e.II(R,C,O,T,_,10,s[49]),T=e.II(T,R,C,O,S,15,s[50]),O=e.II(O,T,R,C,d,21,s[51]),C=e.II(C,O,T,R,b,6,s[52]),R=e.II(R,C,O,T,p,10,s[53]),T=e.II(T,R,C,O,m,15,s[54]),O=e.II(O,T,R,C,l,21,s[55]),C=e.II(C,O,T,R,y,6,s[56]),R=e.II(R,C,O,T,P,10,s[57]),T=e.II(T,R,C,O,f,15,s[58]),O=e.II(O,T,R,C,w,21,s[59]),C=e.II(C,O,T,R,h,6,s[60]),R=e.II(R,C,O,T,g,10,s[61]),T=e.II(T,R,C,O,u,15,s[62]),O=e.II(O,T,R,C,v,21,s[63]),c[0]=c[0]+C|0,c[1]=c[1]+O|0,c[2]=c[2]+T|0,c[3]=c[3]+R|0},e.prototype._doFinalize=function(){var t=this._data,e=t.words,o=8*this._nDataBytes,i=8*t.sigBytes;e[i>>>5]|=128<<24-i%32;var n=Math.floor(o/4294967296),r=o;e[15+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e[14+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process();for(var c=this._hash,s=c.words,a=0;a<4;a++){var l=s[a];s[a]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return c},e}(r.Hasher);o.MD5=l,cc._RF.pop()},{"../lib/Hasher":"Hasher","../lib/WordArray":"WordArray"}],Matrix:[function(t,e,o){"use strict";cc._RF.push(e,"ac135di5uZFfaPtJI9vcajQ","Matrix"),Object.defineProperty(o,"__esModule",{value:!0}),o.Matrix=void 0;var i=Math.PI,n=i>>1,r=i+n,c=i/180,s=180/i;function a(t){switch(t){case n:case-r:return 0;case i:case-i:return-1;case r:case-n:return 0;default:return Math.cos(t)}}function l(t){switch(t){case n:case-r:return 1;case i:case-i:return 0;case r:case-n:return-1;default:return Math.sin(t)}}var u=function(){function t(t,e,o,i,n,r){void 0===t&&(t=1),void 0===e&&(e=0),void 0===o&&(o=0),void 0===i&&(i=1),void 0===n&&(n=0),void 0===r&&(r=0),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.array=null,this.prepend=function(t){var e=this,o=t.a,i=t.b,n=t.c,r=t.d,c=t.tx,s=t.ty,a=e.a,l=e.c,u=e.tx;return e.a=o*a+n*e.b,e.b=i*a+r*e.b,e.c=o*l+n*e.d,e.d=i*l+r*e.d,e.tx=o*u+n*e.ty+c,e.ty=i*u+r*e.ty+s,this};var c=this;c.a=t,c.b=e,c.c=o,c.d=i,c.tx=n,c.ty=r}return t.prototype.clone=function(){var e=this;return new t(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.prototype.copy=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},t.prototype.transformVec2=function(t,e,o){void 0===o&&(o=null);var i=this;return o||(o=new cc.Vec2),o.x=t*i.a+e*i.c+i.tx,o.y=t*i.b+e*i.d+i.ty,o},t.prototype.transformVec2Inverse=function(t,e,o){void 0===o&&(o=null),o||(o=new cc.Vec2);var i=1/(this.a*this.d+this.c*-this.b);return o.x=this.d*i*t+-this.c*i*e+(this.ty*this.c-this.tx*this.d)*i,o.y=this.a*i*e+-this.b*i*t+(-this.ty*this.a+this.tx*this.b)*i,o},t.prototype.setFrom=function(t){var e=this;e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.tx=t.tx,e.ty=t.ty},t.prototype.identity=function(){var t=this;t.a=t.d=1,t.b=t.c=t.tx=t.ty=0},t.prototype.invert=function(){var t=this,e=t.a,o=t.b,i=t.c,n=t.d,r=t.tx,c=t.ty;if(0==o&&0==i)return 0==e||0==n?t.a=t.d=t.tx=t.ty=0:(e=t.a=1/e,n=t.d=1/n,t.tx=-e*r,t.ty=-n*c),t;var s=e*n-o*i;if(0==s)return t.identity(),t;s=1/s;var a=t.a=n*s;return o=t.b=-o*s,i=t.c=-i*s,n=t.d=e*s,t.tx=-(a*r+i*c),t.ty=-(o*r+n*c),t},t.prototype.createBox=function(t,e,o,i,n,r,s,u,p){var h=this;if(0!=n?r=s=n%360:(r%=360,s%=360),0==r&&0==s)h.a=o,h.b=h.c=0,h.d=i;else{s*=c;var d=a(r*=c),f=l(r);r==s?(h.a=d*o,h.b=f*o):(h.a=a(s)*o,h.b=l(s)*o),h.c=-f*i,h.d=d*i}h.tx=t+u-(u*h.a+p*h.c),h.ty=e+p-(u*h.b+p*h.d)},t.prototype.append=function(t){var e=this.a,o=this.b,i=this.c,n=this.d;this.a=t.a*e+t.b*i,this.b=t.a*o+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*o+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*o+t.ty*n+this.ty},t.isEqual=function(t,e){return t.tx==e.tx&&t.ty==e.ty&&t.a==e.a&&t.b==e.b&&t.c==e.c&&t.d==e.d},t.prototype.concat=function(t){var e=this,o=e.a,i=e.b,n=e.c,r=e.d,c=e.tx,s=e.ty,a=t.a,l=t.b,u=t.c,p=t.d,h=t.tx,d=t.ty;e.a=o*a+i*u,e.b=o*l+i*p,e.c=n*a+r*u,e.d=n*l+r*p,e.tx=c*a+s*u+h,e.ty=c*l+s*p+d},t.prototype.rotate=function(t){var e=this,o=Math.sin(t),i=Math.cos(t),n=e.a,r=e.b,c=e.c,s=e.d,a=e.tx,l=e.ty;e.a=n*i-r*o,e.b=n*o+r*i,e.c=c*i-s*o,e.d=c*o+s*i,e.tx=a*i-l*o,e.ty=a*o+l*i},t.prototype.scale=function(t,e){var o=this;o.a*=t,o.d*=e,o.c*=t,o.b*=e,o.tx*=t,o.ty*=e},t.prototype.translate=function(t,e){this.tx+=t,this.ty+=e},t.prototype.set=function(t,e,o,i,n,r){return this.a=t,this.b=e,this.c=o,this.d=i,this.tx=n,this.ty=r,this},t.prototype.getRotation=function(){return Math.round(Math.atan2(this.b,this.a)*s)},t.prototype.toArray=function(t,e){void 0===t&&(t=!1),this.array||(this.array=new Float32Array(9));var o=e||this.array;return t?(o[0]=this.a,o[1]=this.b,o[2]=0,o[3]=this.c,o[4]=this.d,o[5]=0,o[6]=this.tx,o[7]=this.ty,o[8]=1):(o[0]=this.a,o[1]=this.c,o[2]=this.tx,o[3]=this.b,o[4]=this.d,o[5]=this.ty,o[6]=0,o[7]=0,o[8]=1),o},t.prototype.decompose=function(){var t={rotation:0,skew:cc.v2(),scale:cc.v2(),position:cc.v2()},e=this.a,o=this.b,i=this.c,n=this.d,r=-Math.atan2(-i,n),c=Math.atan2(o,e),s=Math.abs(r+c);return s<1e-5||Math.abs(2*Math.PI-s)<1e-5?(t.rotation=c,e<0&&n>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=r,t.skew.y=c),t.scale.x=Math.sqrt(e*e+o*o),t.scale.y=Math.sqrt(i*i+n*n),t.position.x=this.tx,t.position.y=this.ty,t},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){},t}();o.Matrix=u,cc._RF.pop()},{}],Md5:[function(t,e,o){"use strict";cc._RF.push(e,"416969NBFVCZo9SMFl1wzos","Md5"),Object.defineProperty(o,"__esModule",{value:!0}),o.md5=void 0,o.md5=function(t){var e=function(t,e){return t<<e|t>>>32-e},o=function(t,e){var o,i,n,r,c;return n=2147483648&t,r=2147483648&e,c=(1073741823&t)+(1073741823&e),(o=1073741824&t)&(i=1073741824&e)?2147483648^c^n^r:o|i?1073741824&c?3221225472^c^n^r:1073741824^c^n^r:c^n^r},i=function(t,e,o){return t&e|~t&o},n=function(t,e,o){return t&o|e&~o},r=function(t,e,o){return t^e^o},c=function(t,e,o){return e^(t|~o)},s=function(t,n,r,c,s,a,l){return t=o(t,o(o(i(n,r,c),s),l)),o(e(t,a),n)},a=function(t,i,r,c,s,a,l){return t=o(t,o(o(n(i,r,c),s),l)),o(e(t,a),i)},l=function(t,i,n,c,s,a,l){return t=o(t,o(o(r(i,n,c),s),l)),o(e(t,a),i)},u=function(t,i,n,r,s,a,l){return t=o(t,o(o(c(i,n,r),s),l)),o(e(t,a),i)},p=function(t){for(var e,o=t.length,i=o+8,n=16*((i-i%64)/64+1),r=Array(n-1),c=0,s=0;s<o;)c=s%4*8,r[e=(s-s%4)/4]=r[e]|t.charCodeAt(s)<<c,s++;return c=s%4*8,r[e=(s-s%4)/4]=r[e]|128<<c,r[n-2]=o<<3,r[n-1]=o>>>29,r},h=function(t){var e,o="",i="";for(e=0;e<=3;e++)o+=(i="0"+(t>>>8*e&255).toString(16)).substr(i.length-2,2);return o},d=function(t){t=t.toString().replace(/\x0d\x0a/g,"\n");for(var e="",o=0;o<t.length;o++){var i=t.charCodeAt(o);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e};return function(t){var e,i,n,r,c,f,_,y,v,m=Array();for(t=d(t),m=p(t),f=1732584193,_=4023233417,y=2562383102,v=271733878,e=0;e<m.length;e+=16)i=f,n=_,r=y,c=v,f=s(f,_,y,v,m[e+0],7,3614090360),v=s(v,f,_,y,m[e+1],12,3905402710),y=s(y,v,f,_,m[e+2],17,606105819),_=s(_,y,v,f,m[e+3],22,3250441966),f=s(f,_,y,v,m[e+4],7,4118548399),v=s(v,f,_,y,m[e+5],12,1200080426),y=s(y,v,f,_,m[e+6],17,2821735955),_=s(_,y,v,f,m[e+7],22,4249261313),f=s(f,_,y,v,m[e+8],7,1770035416),v=s(v,f,_,y,m[e+9],12,2336552879),y=s(y,v,f,_,m[e+10],17,4294925233),_=s(_,y,v,f,m[e+11],22,2304563134),f=s(f,_,y,v,m[e+12],7,1804603682),v=s(v,f,_,y,m[e+13],12,4254626195),y=s(y,v,f,_,m[e+14],17,2792965006),_=s(_,y,v,f,m[e+15],22,1236535329),f=a(f,_,y,v,m[e+1],5,4129170786),v=a(v,f,_,y,m[e+6],9,3225465664),y=a(y,v,f,_,m[e+11],14,643717713),_=a(_,y,v,f,m[e+0],20,3921069994),f=a(f,_,y,v,m[e+5],5,3593408605),v=a(v,f,_,y,m[e+10],9,38016083),y=a(y,v,f,_,m[e+15],14,3634488961),_=a(_,y,v,f,m[e+4],20,3889429448),f=a(f,_,y,v,m[e+9],5,568446438),v=a(v,f,_,y,m[e+14],9,3275163606),y=a(y,v,f,_,m[e+3],14,4107603335),_=a(_,y,v,f,m[e+8],20,1163531501),f=a(f,_,y,v,m[e+13],5,2850285829),v=a(v,f,_,y,m[e+2],9,4243563512),y=a(y,v,f,_,m[e+7],14,1735328473),_=a(_,y,v,f,m[e+12],20,2368359562),f=l(f,_,y,v,m[e+5],4,4294588738),v=l(v,f,_,y,m[e+8],11,2272392833),y=l(y,v,f,_,m[e+11],16,1839030562),_=l(_,y,v,f,m[e+14],23,4259657740),f=l(f,_,y,v,m[e+1],4,2763975236),v=l(v,f,_,y,m[e+4],11,1272893353),y=l(y,v,f,_,m[e+7],16,4139469664),_=l(_,y,v,f,m[e+10],23,3200236656),f=l(f,_,y,v,m[e+13],4,681279174),v=l(v,f,_,y,m[e+0],11,3936430074),y=l(y,v,f,_,m[e+3],16,3572445317),_=l(_,y,v,f,m[e+6],23,76029189),f=l(f,_,y,v,m[e+9],4,3654602809),v=l(v,f,_,y,m[e+12],11,3873151461),y=l(y,v,f,_,m[e+15],16,530742520),_=l(_,y,v,f,m[e+2],23,3299628645),f=u(f,_,y,v,m[e+0],6,4096336452),v=u(v,f,_,y,m[e+7],10,1126891415),y=u(y,v,f,_,m[e+14],15,2878612391),_=u(_,y,v,f,m[e+5],21,4237533241),f=u(f,_,y,v,m[e+12],6,1700485571),v=u(v,f,_,y,m[e+3],10,2399980690),y=u(y,v,f,_,m[e+10],15,4293915773),_=u(_,y,v,f,m[e+1],21,2240044497),f=u(f,_,y,v,m[e+8],6,1873313359),v=u(v,f,_,y,m[e+15],10,4264355552),y=u(y,v,f,_,m[e+6],15,2734768916),_=u(_,y,v,f,m[e+13],21,1309151649),f=u(f,_,y,v,m[e+4],6,4149444226),v=u(v,f,_,y,m[e+11],10,3174756917),y=u(y,v,f,_,m[e+2],15,718787259),_=u(_,y,v,f,m[e+9],21,3951481745),f=o(f,i),_=o(_,n),y=o(y,r),v=o(v,c);return(h(f)+h(_)+h(y)+h(v)).toLowerCase()}(t)},cc._RF.pop()},{}],Module:[function(t,e,o){"use strict";cc._RF.push(e,"f351byzNJVI5YXJ69mK2jED","Module");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator.ccclass,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data={},e.view={},e}return n(e,t),e.prototype.initEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.onDestroy=function(){this.removeEvent()},e.prototype.onLoad=function(){this.view={},this.load_all_object(this.node,""),this.initEvent()},e.prototype.load_all_object=function(t,e){for(var o=0;o<t.childrenCount;o++)this.view[e+t.children[o].name]=t.children[o],this.load_all_object(t.children[o],e+t.children[o].name+"/")},e.prototype.add_button_listen=function(t,e,o){var i=this.view[t];i&&i.getComponent(cc.Button)&&i.on("click",o,e)},e.prototype.btnDelay=function(t,e){void 0===e&&(e=2);var o=null;(o="string"==typeof t?this.view[t]:t)&&(o.getComponent(cc.Button).interactable=!1,this.scheduleOnce(function(){o&&(o.getComponent(cc.Button).interactable=!0)},e))},r([c()],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],NetMgr:[function(t,e,o){"use strict";cc._RF.push(e,"ca6dcBBP+9JbZD7KoLjwFLj","NetMgr");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../EventMgr"),s=cc._decorator,a=s.ccclass,l=(s.property,{Disconnected:0,Connecting:1,Connected:2}),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.url="ws://127.0.0.1:6081/ws",e.state=l.Disconnected,e.sock=null,e}var o;return n(e,t),o=e,e.prototype.onLoad=function(){null===o.Instance?(o.Instance=this,this.state=l.Disconnected):this.destroy()},e.prototype._on_opened=function(){this.state=l.Connected,cc.log("connect to server: "+this.url+" sucess!"),c.default.ins.dispatch("net_connect",null)},e.prototype._on_recv_data=function(t){c.default.ins.dispatch("net_message",t.data)},e.prototype.close_socket=function(){this.state===l.Connected&&null!==this.sock&&(this.sock.close(),this.sock=null),c.default.ins.dispatch("net_disconnect",null),this.state=l.Disconnected},e.prototype._on_socket_close=function(){this.close_socket()},e.prototype._on_socket_err=function(){this.close_socket()},e.prototype.connect_to_server=function(){this.state===l.Disconnected&&(c.default.ins.dispatch("net_connecting",null),this.state=l.Connecting,this.sock=new WebSocket(this.url),this.sock.binaryType="arraybuffer",this.sock.onopen=this._on_opened.bind(this),this.sock.onmessage=this._on_recv_data.bind(this),this.sock.onclose=this._on_socket_close.bind(this),this.sock.onerror=this._on_socket_err.bind(this))},e.prototype.send_data=function(t){this.state===l.Connected&&this.sock&&this.sock.send(t)},e.prototype.update=function(){this.state===l.Disconnected&&this.connect_to_server()},e.Instance=null,o=r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../EventMgr":"EventMgr"}],NoPadding:[function(t,e,o){"use strict";cc._RF.push(e,"eb37et1dYZHGJrIviwnYS0A","NoPadding"),Object.defineProperty(o,"__esModule",{value:!0}),o.NoPadding=void 0;var i=function(){function t(){}return t.pad=function(){},t.unpad=function(){},t}();o.NoPadding=i,cc._RF.pop()},{}],NonePanel:[function(t,e,o){"use strict";cc._RF.push(e,"4e8d4Gut6FJC40zjfV8h9UM","NonePanel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Module/Panel"),s=cc._decorator,a=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){this.addButtonListen("\u6309\u94ae",this.hidePanel,this),this.addButtonListen("\u5173\u95ed",this.hidePanel,this)},e.group=["NonePanel"],e.skin="NonePanel",r([a],e)}(c.default));o.default=l,cc._RF.pop()},{"../../Module/Panel":"Panel"}],OpenSSLKdf:[function(t,e,o){"use strict";cc._RF.push(e,"c7e02Nc8BxE3JxdvoJ2XvvY","OpenSSLKdf"),Object.defineProperty(o,"__esModule",{value:!0}),o.OpenSSLKdf=void 0;var i=t("../lib/WordArray"),n=t("../lib/CipherParams"),r=t("../algo/EvpKDF"),c=function(){function t(){}return t.execute=function(t,e,o,c){c||(c=i.WordArray.random(8));var s=new r.EvpKDF({keySize:e+o}).compute(t,c),a=new i.WordArray(s.words.slice(e),4*o);return s.sigBytes=4*e,new n.CipherParams({key:s,iv:a,salt:c})},t}();o.OpenSSLKdf=c,cc._RF.pop()},{"../algo/EvpKDF":"EvpKDF","../lib/CipherParams":"CipherParams","../lib/WordArray":"WordArray"}],OpenSSL:[function(t,e,o){"use strict";cc._RF.push(e,"78e7bXjRBxCC7IBt5iotwij","OpenSSL"),Object.defineProperty(o,"__esModule",{value:!0}),o.OpenSSL=void 0;var i=t("../lib/CipherParams"),n=t("../lib/WordArray"),r=t("../enc/Base64"),c=function(){function t(){}return t.stringify=function(t){if(!t.ciphertext)throw new Error("missing ciphertext in params");var e,o=t.ciphertext,i=t.salt;if(i){if("string"==typeof i)throw new Error("salt is expected to be a WordArray");e=new n.WordArray([1398893684,1701076831]).concat(i).concat(o)}else e=o;return e.toString(r.Base64)},t.parse=function(t){var e,o=r.Base64.parse(t);return 1398893684===o.words[0]&&1701076831===o.words[1]&&(e=new n.WordArray(o.words.slice(2,4)),o.words.splice(0,4),o.sigBytes-=16),new i.CipherParams({ciphertext:o,salt:e})},t}();o.OpenSSL=c,cc._RF.pop()},{"../enc/Base64":"Base64","../lib/CipherParams":"CipherParams","../lib/WordArray":"WordArray"}],PKCS7:[function(t,e,o){"use strict";cc._RF.push(e,"3f9cdjQ8otPR7/dmdPNquTs","PKCS7"),Object.defineProperty(o,"__esModule",{value:!0}),o.PKCS7=void 0;var i=t("../lib/WordArray"),n=function(){function t(){}return t.pad=function(t,e){for(var o=4*e,n=o-t.sigBytes%o,r=n<<24|n<<16|n<<8|n,c=[],s=0;s<n;s+=4)c.push(r);var a=new i.WordArray(c,n);t.concat(a)},t.unpad=function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e},t}();o.PKCS7=n,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],Padding:[function(t,e,o){"use strict";cc._RF.push(e,"79dcfDrbNVHIIyxYV5wenst","Padding"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],PanelCtrl:[function(t,e,o){"use strict";cc._RF.push(e,"0ce9cIDnTtEa5PsMHUfj+e+","PanelCtrl");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,r){function c(t){try{a(i.next(t))}catch(e){r(e)}}function s(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,s)}a((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,i,n,r,c={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return a([t,e])}}function a(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,i=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(n=(n=c.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){c.label=r[1];break}if(6===r[0]&&c.label<n[1]){c.label=n[1],n=r;break}if(n&&c.label<n[2]){c.label=n[2],c.ops.push(r);break}n[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.asyncShowPanel=o.showPanel=void 0;var a=t("../Scripts/Managers/RES"),l=t("./ToastCtrl"),u=t("./WaitingCtrl"),p=cc._decorator,h=p.ccclass;p.property,o.showPanel=function(t,e,o){void 0===e&&(e={}),void 0===o&&(o=!0),d.ins.show(t,e,o)},o.asyncShowPanel=function(t,e,o){var i=this;return void 0===e&&(e={}),void 0===o&&(o=!0),new Promise(function(n){return c(i,void 0,void 0,function(){return s(this,function(i){switch(i.label){case 0:return[4,d.ins.show(t,e,o)];case 1:return i.sent().node.on("close-panel",n),[2]}})})})};var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabMap={},e.panelStack=[],e.curPanel=null,e}var o;return n(e,t),o=e,e.prototype.onLoad=function(){o.ins=this,this.mask=this.node.getChildByName("mask")},e.prototype.show=function(t,e,o){return void 0===e&&(e={}),void 0===o&&(o=!0),c(this,void 0,void 0,function(){var i,n,r,c,p,h,d=this;return s(this,function(s){switch(s.label){case 0:return i=t.skin,n=t.group,r=void 0===n?i:n,c=function(n){d.curPanel&&(d.curPanel.node.active=!1,d.panelStack.push(d.curPanel)),d.mask.opacity=o?170:0,d.mask.active=!0;var r=cc.instantiate(n);d.node.addChild(r);var c=r.getComponent(i);return c.data=e,c.onShow(),d.curPanel={cls:t,data:e,showMask:o,node:r},c},this.prefabMap[i]?[3,2]:(u.showWaiting(),p=!0,h=[a.default.loadRes("Panels/"+i)],Array.isArray(r)?r.forEach(function(t){h.push(a.default.loadDir("assets/"+t).then(function(t){p=t}))}):h.push(a.default.loadDir("assets/"+r).then(function(t){p=t})),[4,Promise.all(h).then(function(t){var e=t[0];if(e&&p)return d.prefabMap[i]=e,u.hideWaiting(),c(e);l.showToast("\u5f39\u7a97\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25")})]);case 1:return[2,s.sent()];case 2:return[2,c(this.prefabMap[i])]}})})},e.prototype.hide=function(){if(this.curPanel){var t=this.curPanel.node;if(t.destroy(),this.node.removeChild(t),this.mask.active=!1,this.curPanel=null,this.curPanel=this.panelStack.pop(),this.curPanel){var e=this.curPanel,o=e.node,i=e.showMask;o.active=!0,i&&(this.mask.active=!0,this.mask.opacity=170)}}},e.prototype.hideAllPanel=function(){this.hide();for(var t=0;t<this.panelStack.length;t++)this.panelStack[t].node.destroy(),this.node.removeChild(this.panelStack[t].node);this.panelStack=[],this.mask.active=!1,this.curPanel=null},e.ins=null,o=r([h],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../Scripts/Managers/RES":"RES","./ToastCtrl":"ToastCtrl","./WaitingCtrl":"WaitingCtrl"}],Panel:[function(t,e,o){"use strict";cc._RF.push(e,"9ca64A8uQBN5J8EHMfxvhGe","Panel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator.ccclass,s=t("./PanelCtrl"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data={},e.view={},e}return n(e,t),e.prototype.onLoad=function(){this.view={},this.loadAllObject(this.node,"")},e.prototype.onShow=function(){this.node.scale=0,cc.tween(this.node).to(.188,{scale:1},{easing:cc.easing.quadInOut}).start()},e.prototype.loadAllObject=function(t,e){for(var o=0;o<t.childrenCount;o++)this.view[e+t.children[o].name]=t.children[o],this.loadAllObject(t.children[o],e+t.children[o].name+"/")},e.prototype.setLabel=function(t,e){var o,i,n=null===(i=null===(o=this.view[t])||void 0===o?void 0:o.getComponent)||void 0===i?void 0:i.call(o,cc.Label);n&&(n.string=e)},e.prototype.addButtonListen=function(t,e,o){var i=this.view[t];i&&i.on("click",e,o)},e.prototype.hidePanel=function(){this.node.emit("close-panel"),s.default.ins.hide()},e.prototype.btnDelay=function(t,e){void 0===e&&(e=2);var o=null;(o="string"==typeof t?this.view[t]:t)&&(o.getComponent(cc.Button).interactable=!1,this.scheduleOnce(function(){o&&(o.getComponent(cc.Button).interactable=!0)},e))},r([c()],e)}(cc.Component);o.default=a,cc._RF.pop()},{"./PanelCtrl":"PanelCtrl"}],PasswordBasedCipher:[function(t,e,o){"use strict";cc._RF.push(e,"9d9deGbWg9AFYXeU70HsAqS","PasswordBasedCipher"),Object.defineProperty(o,"__esModule",{value:!0}),o.PasswordBasedCipher=void 0;var i=t("./SerializableCipher"),n=t("./WordArray"),r=t("../format/OpenSSL"),c=t("../kdf/OpenSSLKdf"),s=function(){function t(){}return t.encrypt=function(t,e,o,n){var r=Object.assign({},this.cfg,n);if(void 0===r.kdf)throw new Error("missing kdf in config");var c=r.kdf.execute(o,t.keySize,t.ivSize);return void 0!==c.iv&&(r.iv=c.iv),i.SerializableCipher.encrypt.call(this,t,e,c.key,r).extend(c)},t.decrypt=function(t,e,o,n){var r=Object.assign({},this.cfg,n);if(void 0===r.format)throw new Error("missing format in config");if(e=this._parse(e,r.format),void 0===r.kdf)throw new Error("the key derivation function must be set");var c=r.kdf.execute(o,t.keySize,t.ivSize,e.salt);return void 0!==c.iv&&(r.iv=c.iv),i.SerializableCipher.decrypt.call(this,t,e,c.key,r)},t._parse=function(t,e){return"string"==typeof t?e.parse(t):t},t.cfg={blockSize:4,iv:new n.WordArray([]),format:r.OpenSSL,kdf:c.OpenSSLKdf},t}();o.PasswordBasedCipher=s,cc._RF.pop()},{"../format/OpenSSL":"OpenSSL","../kdf/OpenSSLKdf":"OpenSSLKdf","./SerializableCipher":"SerializableCipher","./WordArray":"WordArray"}],Player:[function(t,e,o){"use strict";cc._RF.push(e,"052f5L8Mq9MQrfvc4knz8jQ","Player");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},e.prototype.init=function(){},e.prototype.onUpdate=function(){},r([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],PoolManager:[function(t,e,o){"use strict";cc._RF.push(e,"57099GOZ5FJZKQdU10ra1y/","PoolManager");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allPrefab=[],e.allPrefabMap=null,e.poolMap=null,e}var o;return n(e,t),o=e,e.prototype.onLoad=function(){null!=o.Instance&&o.Instance.destroy(),o.Instance=this,this.allPrefabMap=new Map,this.poolMap=new Map;for(var t=0;t<this.allPrefab.length;t++){this.allPrefabMap.set(this.allPrefab[t].name,this.allPrefab[t]),cc.log(this.allPrefab[t].name);var e=new cc.NodePool;this.poolMap.set(this.allPrefab[t].name,e)}this.allPrefabMap.forEach(function(t,e){console.log("value\uff1a",t,"key:",e)}),this.poolMap.forEach(function(t,e){console.log("value\uff1a",t,"key:",e)})},e.Spawn=function(t,e){if(void 0===e&&(e=null),!o.Instance.poolMap.has(t))return cc.warn("no prefab named "+t),null;var i=o.Instance.poolMap.get(t);if(i.size()>0){var n=i.get();console.log("\u6211\u62ff\u4e86\u4e00\u4e2a"),null!=e&&(n.parent=e);var r=cc.v2(0,0);return r.x=420*Math.random()-200,r.y=600+200*Math.random(),n.setPosition(r),n}var c=cc.instantiate(o.Instance.allPrefabMap.get(t));console.log("\u6211\u65b0\u521b\u5efa\u4e86\u4e00\u4e2a"),null!=e&&(c.parent=e);var s=cc.v2(0,0);return s.x=420*Math.random()-200,s.y=600+200*Math.random(),c.setPosition(s),c},e.Despawn=function(t,e){if(!o.Instance.poolMap.has(t))return cc.log("\u56de\u6536\u5931\u8d25,\u8282\u70b9\u540d : "+t),null;o.Instance.poolMap.get(t).put(e),cc.log("\u56de\u6536\u6210\u529f,\u8282\u70b9\u540d : ",e,"\u8282\u70b9\u6c60\uff1a",o.Instance.poolMap.get(t))},e.GetPrefab=function(t){return o.Instance.allPrefabMap.has(t)?o.Instance.allPrefabMap.get(t):null},e.Preload=function(t,e){if(!o.Instance.poolMap.has(t))return null;for(var i=o.Instance.poolMap.get(t),n=0;n<e;n++){var r=cc.instantiate(o.Instance.allPrefabMap.get(t));i.put(r)}},e.Instance=null,r([a([cc.Prefab])],e.prototype,"allPrefab",void 0),o=r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],PrizePanel:[function(t,e,o){"use strict";cc._RF.push(e,"21a4fj09ExPG55lNyoxlx8o","PrizePanel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Module/Panel"),s=t("../Utils/WebNet/WebNet"),a=cc._decorator,l=a.ccclass,u=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){this.addButtonListen("\u6309\u94ae",this.goDraw,this),this.addButtonListen("\u5173\u95ed",this.hidePanel,this),s.sendLog(s.LOG_TYPE.EXPOSURE,2)},e.prototype.hidePanel=function(){var e;t.prototype.hidePanel.call(this),(null===(e=this.data)||void 0===e?void 0:e.callback)&&this.data.callback()},e.prototype.goDraw=function(){location.href=s.getWebData(s.WebNetName.index).data.bigTurntableUrl},e.skin="PrizePanel",e.group="PrizePanel",r([l],e)}(c.default));o.default=u,cc._RF.pop()},{"../../Module/Panel":"Panel","../Utils/WebNet/WebNet":"WebNet"}],RES:[function(t,e,o){"use strict";cc._RF.push(e,"907d2olcBlLp5t1i1F2IG5I","RES");var i,n=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,r){function c(t){try{a(i.next(t))}catch(e){r(e)}}function s(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,s)}a((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var o,i,n,r,c={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return a([t,e])}}function a(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,i=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(n=(n=c.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){c.label=r[1];break}if(6===r[0]&&c.label<n[1]){c.label=n[1],n=r;break}if(n&&c.label<n[2]){c.label=n[2],c.ops.push(r);break}n[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),function(t){t.bundles={},t.loadBundle=function(e){var o=window.__remoteAssets__||"";return new Promise(function(i,n){cc.assetManager.loadBundle(o+e,function(o,r){null!==o?(console.log("[RES]:Load AssetsBundle Error: "+e),t.bundles[e]=null,n(o)):(console.log("[RES]:Load AssetsBundle Success: "+e),t.bundles[e]=r,i(!0))})})},t.getRes=function(t,e){return cc.resources.get(t,e)},t.loadRes=function(t,e){return new Promise(function(o){cc.resources.load(t,e,function(e,i){e?(console.warn("\u8d44\u6e90 "+t+" \u52a0\u8f7d\u5931\u8d25:",e),o(null)):o(i||null)})})},t.loadRemote=function(t){return new Promise(function(e){cc.assetManager.loadRemote(t,function(o,i){o||!i?(console.warn("\u8d44\u6e90 "+t+" \u52a0\u8f7d\u5931\u8d25:",o),e(null)):e(i)})})},t.loadRemoteImg=function(e){return n(this,void 0,Promise,function(){var o,i;return r(this,function(n){switch(n.label){case 0:return i=(o=cc.SpriteFrame).bind,[4,t.loadRemote(e)];case 1:return[2,new(i.apply(o,[void 0,n.sent()]))]}})})},t.loadLocalImg=function(t){return n(this,void 0,Promise,function(){return r(this,function(){return[2,new Promise(function(e){cc.resources.load(t,function(o,i){o||!i?(console.warn("\u8d44\u6e90 "+t+" \u52a0\u8f7d\u5931\u8d25:",o),e(null)):e(new cc.SpriteFrame(i))})})]})})},t.loadDir=function(t,e){return void 0===e&&(e=function(){return 0}),new Promise(function(o){cc.resources.loadDir(t,e,function(e){e?(console.warn("\u8d44\u6e90 "+t+" \u52a0\u8f7d\u5931\u8d25:",e),o(!1)):o(!0)})})}}(i||(i={})),o.default=i,cc._RF.pop()},{}],RulePanel:[function(t,e,o){"use strict";cc._RF.push(e,"72992q8GsdNAZlvBvcDHMmI","RulePanel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,r){function c(t){try{a(i.next(t))}catch(e){r(e)}}function s(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,s)}a((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,i,n,r,c={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return a([t,e])}}function a(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,i=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(n=(n=c.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){c.label=r[1];break}if(6===r[0]&&c.label<n[1]){c.label=n[1],n=r;break}if(n&&c.label<n[2]){c.label=n[2],c.ops.push(r);break}n[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Module/Panel"),l=t("../Utils/WebNet/WebNet"),u=cc._decorator,p=u.ccclass,h=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){var t;return c(this,void 0,void 0,function(){var e,o,i,n,r,c,a,u,p=this;return s(this,function(s){switch(s.label){case 0:return this.addButtonListen("ruleClose",this.hidePanel,this),[4,l.sendWebNet(l.WebNetName.projectRule)];case 1:return e=s.sent(),o=e.success,i=e.data,o&&(n=this.view["scrollview/view/content/ruleTxt"],r=n.getComponent(cc.RichText),c=this.view["scrollview/view/content"],r.string=i.replace(/<p\b.*?(?:\>|\/>)/gi,"").replace(/<\/p\>/gi,"<br/>"),c.height=n.height),l.sendLog(l.LOG_TYPE.EXPOSURE,4),this.view.cdTxt.active=!1,(null===(t=this.data)||void 0===t?void 0:t.first)&&(this.view.cdTxt.active=!0,a=3,u=function(){a<=0&&p.hidePanel(),a--,p.view.cdTxt.getComponent(cc.Label).string=a+""},this.schedule(u,1),this.view.scrollview.once("scrolling",function(){p.view.cdTxt.active=!1,p.unschedule(u)})),[2]}})})},e.skin="RulePanel",e.group="RulePanel",r([p],e)}(a.default));o.default=h,cc._RF.pop()},{"../../Module/Panel":"Panel","../Utils/WebNet/WebNet":"WebNet"}],SHA256:[function(t,e,o){"use strict";cc._RF.push(e,"ce04d3PZLhEwqz0umlIfOCA","SHA256");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.SHA256=void 0;var r=t("../lib/Hasher"),c=t("../lib/WordArray"),s=[],a=[],l=[],u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.reset=function(){t.prototype.reset.call(this),this._hash=new c.WordArray(s.slice(0))},e.prototype._doProcessBlock=function(t,e){for(var o=this._hash.words,i=o[0],n=o[1],r=o[2],c=o[3],s=o[4],u=o[5],p=o[6],h=o[7],d=0;d<64;d++){if(d<16)l[d]=0|t[e+d];else{var f=l[d-15],_=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,y=l[d-2],v=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;l[d]=_+l[d-7]+v+l[d-16]}var m=i&n^i&r^n&r,g=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),b=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&p)+a[d]+l[d];h=p,p=u,u=s,s=c+b|0,c=r,r=n,n=i,i=b+(g+m)|0}o[0]=o[0]+i|0,o[1]=o[1]+n|0,o[2]=o[2]+r|0,o[3]=o[3]+c|0,o[4]=o[4]+s|0,o[5]=o[5]+u|0,o[6]=o[6]+p|0,o[7]=o[7]+h|0},e.prototype._doFinalize=function(){var t=8*this._nDataBytes,e=8*this._data.sigBytes;return this._data.words[e>>>5]|=128<<24-e%32,this._data.words[14+(e+64>>>9<<4)]=Math.floor(t/4294967296),this._data.words[15+(e+64>>>9<<4)]=t,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash},e}(r.Hasher);o.SHA256=u,cc._RF.pop()},{"../lib/Hasher":"Hasher","../lib/WordArray":"WordArray"}],SandBlock:[function(t,e,o){"use strict";cc._RF.push(e,"a1a289TPNFGS5y0kApNvXrU","SandBlock");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Game/config/GameCfg"),s=t("../../Utils/Utils"),a=cc._decorator,l=a.ccclass,u=a.property,p=c.GameCfg.MaxRow,h=c.GameCfg.MaxCol,d=c.GameCfg.SandWidth,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sandPrefab=null,e.sandArr=[],e.tpl=null,e.color=null,e.colorHex=null,e._row=0,e._col=0,e._ralMinCol=0,e._ralMaxCol=0,e._ralMinRow=0,e._ralMaxRow=0,e}return n(e,t),Object.defineProperty(e.prototype,"row",{get:function(){return this._row},set:function(t){var e=0-this.ralMinRow;t=cc.misc.clampf(t,e,p),this._row=t,this.node.y=t*d},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"col",{get:function(){return this._col},set:function(t){var e=0-this.ralMinCol,o=h-this.ralMaxCol;t=cc.misc.clampf(t,e,o),this._col=t,this.node.x=t*d},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ralMinCol",{get:function(){return this._ralMinCol},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ralMaxCol",{get:function(){return this._ralMaxCol},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ralMinRow",{get:function(){return this._ralMinRow},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ralMaxRow",{get:function(){return this._ralMaxRow},enumerable:!1,configurable:!0}),e.prototype.calcRal=function(){var t=this.tpl.length,e=0;t:for(var o=0;o<t;o++){for(var i=0;i<t;i++)if(this.tpl[o][i])break t;e+=8}this._ralMinCol=e;var n=8*t;t:for(o=t-1;o>=0;o--){for(i=0;i<t;i++)if(this.tpl[o][i])break t;n-=8}this._ralMaxCol=n;var r=0;t:for(i=0;i<t;i++){for(o=0;o<t;o++)if(this.tpl[o][i])break t;r+=8}this._ralMinRow=r;var c=8*t;t:for(i=t-1;i>=0;i--){for(o=0;o<t;o++)if(this.tpl[o][i])break t;c-=8}this._ralMaxRow=c},e.prototype.rotate=function(){this.rotateTpl(),this.calcRal(),this.clear(),this.createBlock()},e.prototype.rotateTpl=function(){for(var t,e=this.tpl,o=e.length,i=0;i<o;i++)for(var n=i;n<o;n++)t=[e[n][i],e[i][n]],e[i][n]=t[0],e[n][i]=t[1];for(var r=function(t){for(var e,o=0,i=t.length-1;o<=i;)e=[t[i],t[o]],t[o]=e[0],t[i]=e[1],o++,i--},c=0,s=e;c<s.length;c++)r(i=s[c])},e.prototype.clear=function(){this.node.removeAllChildren();for(var t=this.sandArr.length,e=0;e<t;e++){var o=this.sandArr[e];if(o)for(var i=0;i<t;i++){var n=o[i];n&&(n.stopAllActions(),c.SandPool.put(n))}}this.sandArr.length=0},e.prototype.random=function(t){this.tpl=s.deepClone(c.BlockTpl[Math.random()*c.BlockTpl.length>>0]);for(var e=4*Math.random()>>0,o=0;o<e;o++)this.rotateTpl();this.calcRal(),this.color=t,this.colorHex=t._val,this.clear(),this.createBlock()},e.prototype.createBlock=function(){for(var t=this.tpl.length,e=0;e<t;e++)for(var o=this.tpl[e],i=o.length,n=0;n<i;n++)o[n]&&this.createSingleSandBlock(e,n)},e.prototype.createSingleSandBlock=function(t,e){for(var o,i,n,r,c,s,a=8*e,l=8*t,u=0;u<8;u++)for(var p=0;p<8;p++){var h=this.createSand(),d=this.color.clone(),f=null===(o=this.tpl[t-1])||void 0===o?void 0:o[e],_=null===(i=this.tpl[t+1])||void 0===i?void 0:i[e],y=this.tpl[t][e-1],v=this.tpl[t][e+1],m=null===(n=this.tpl[t-1])||void 0===n?void 0:n[e-1],g=null===(r=this.tpl[t+1])||void 0===r?void 0:r[e-1],b=null===(c=this.tpl[t-1])||void 0===c?void 0:c[e+1],w=null===(s=this.tpl[t+1])||void 0===s?void 0:s[e+1];!f&&0==u||!_&&7==u||!y&&0==p||!v&&7==p||!m&&0==u&&0==p||!g&&7==u&&0==p||!b&&0==u&&7==p||!w&&7==u&&7==p?(d.r*=.85,d.g*=.85,d.b*=.85):(d.r*=.1*Math.random()+.9,d.g*=.1*Math.random()+.9,d.b*=.1*Math.random()+.9),this.sandArr[u+l]||(this.sandArr[u+l]=[]),h.color=d,h.setPosition(6*(l+u),6*(a+p)),this.node.addChild(h),this.sandArr[u+l][p+a]=h}},e.prototype.createSand=function(){return c.SandPool.size()>0?c.SandPool.get():cc.instantiate(this.sandPrefab)},r([u(cc.Prefab)],e.prototype,"sandPrefab",void 0),r([l],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../Game/config/GameCfg":"GameCfg","../../Utils/Utils":"Utils"}],SceneCtrl:[function(t,e,o){"use strict";cc._RF.push(e,"cd8e7x5+M9GKrIhMPtBwc4f","SceneCtrl");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.getCurrScene=o.changeScene=void 0;var c=t("../Scripts/Managers/RES"),s=t("./ToastCtrl"),a=t("./WaitingCtrl"),l=cc._decorator,u=l.ccclass;l.property,o.changeScene=function(t,e){void 0===e&&(e={}),p.ins.change(t,e)},o.getCurrScene=function(){return p.ins.curScene};var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabMap={},e.curScene=null,e}var o;return n(e,t),o=e,e.prototype.onLoad=function(){o.ins=this},e.prototype.change=function(t,e){var o=this;void 0===e&&(e={});var i=t.skin,n=t.group,r=void 0===n?i:n,l=function(t){var n,r=cc.instantiate(t);null===(n=o.curScene)||void 0===n||n.destroy(),o.node.addChild(r),r.getComponent(i).data=e,o.curScene=r};if(!this.prefabMap[i]){a.showWaiting();var u=!0,p=[c.default.loadRes("Scenes/"+i)];return Array.isArray(r)?r.forEach(function(t){p.push(c.default.loadDir("assets/"+t).then(function(t){u=t}))}):p.push(c.default.loadDir("assets/"+r).then(function(t){u=t})),void Promise.all(p).then(function(t){var e=t[0];e&&u?(o.prefabMap[i]=e,a.hideWaiting(),l(e)):s.showToast("\u573a\u666f\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25")})}l(this.prefabMap[i])},e.ins=null,o=r([u],e)}(cc.Component);cc._RF.pop()},{"../Scripts/Managers/RES":"RES","./ToastCtrl":"ToastCtrl","./WaitingCtrl":"WaitingCtrl"}],Scene:[function(t,e,o){"use strict";cc._RF.push(e,"9efda8dT3BHLbp7EQIv6nAC","Scene");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator.ccclass,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data={},e.view={},e}return n(e,t),e.prototype.initEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.onDestroy=function(){this.removeEvent()},e.prototype.onLoad=function(){this.view={},this.loadAllObject(this.node,""),this.initEvent()},e.prototype.loadAllObject=function(t,e){for(var o=0;o<t.childrenCount;o++)this.view[e+t.children[o].name]=t.children[o],this.loadAllObject(t.children[o],e+t.children[o].name+"/")},e.prototype.setLabel=function(t,e){var o,i,n=null===(i=null===(o=this.view[t])||void 0===o?void 0:o.getComponent)||void 0===i?void 0:i.call(o,cc.Label);n&&(n.string=""+e)},e.prototype.addTouchListen=function(t,e,o){var i=this.view[t];i?i.on(cc.Node.EventType.TOUCH_END,e,o):console.warn(t,"\u8282\u70b9\u4e0d\u5b58\u5728")},e.prototype.addButtonListen=function(t,e,o){var i=this.view[t];i&&i.on("click",e,o)},e.prototype.btnDelay=function(t,e){void 0===e&&(e=2);var o=null;(o="string"==typeof t?this.view[t]:t)&&(o.getComponent(cc.Button).interactable=!1,this.scheduleOnce(function(){o&&(o.getComponent(cc.Button).interactable=!0)},e))},r([c()],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],SerializableCipher:[function(t,e,o){"use strict";cc._RF.push(e,"9bdd71XAc5KyK9cGfwZ33cS","SerializableCipher"),Object.defineProperty(o,"__esModule",{value:!0}),o.SerializableCipher=void 0;var i=t("./WordArray"),n=t("../format/OpenSSL"),r=t("./CipherParams"),c=function(){function t(){}return t.encrypt=function(t,e,o,i){var n=Object.assign({},this.cfg,i),c=t.createEncryptor(o,n),s=c.finalize(e);return new r.CipherParams({ciphertext:s,key:o,iv:c.cfg.iv,algorithm:t,mode:c.cfg.mode,padding:c.cfg.padding,blockSize:c.cfg.blockSize,formatter:n.format})},t.decrypt=function(t,e,o,i){var n=Object.assign({},this.cfg,i);if(!n.format)throw new Error("could not determine format");if(!(e=this._parse(e,n.format)).ciphertext)throw new Error("could not determine ciphertext");return t.createDecryptor(o,n).finalize(e.ciphertext)},t._parse=function(t,e){return"string"==typeof t?e.parse(t):t},t.cfg={blockSize:4,iv:new i.WordArray([]),format:n.OpenSSL},t}();o.SerializableCipher=c,cc._RF.pop()},{"../format/OpenSSL":"OpenSSL","./CipherParams":"CipherParams","./WordArray":"WordArray"}],SkillMgr:[function(t,e,o){"use strict";cc._RF.push(e,"c64ddtGFtxMLr7QH6bYs2a/","SkillMgr");var i=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,c=(n.property,function(){function t(){this.skillData=null}var e;return e=t,Object.defineProperty(t,"Instance",{get:function(){return!this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.skillData=null},t._instance=null,e=i([r],t)}());o.default=c,cc._RF.pop()},{}],SoundMgr:[function(t,e,o){"use strict";cc._RF.push(e,"e56b0Tore9O6pTEg3DgnLQC","SoundMgr");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./RES"),s=cc._decorator,a=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.effect_volume=1,e.music_volume=1,e.music_as=null,e.effect_as=[],e.cur_as=0,e._musicMute=!1,e._effectMute=!1,e}var o;return n(e,t),o=e,Object.defineProperty(e.prototype,"musicMute",{get:function(){return this._musicMute},set:function(t){this._musicMute=t,this.music_as.volume=t?0:this.music_volume},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"effectMute",{get:function(){return this._effectMute},set:function(t){for(var e=0;e<this.effect_as.length;e++)this.effect_as[e].volume=t?0:this.effect_volume;this._effectMute=t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){if(null===o.Instance){o.Instance=this,this.music_as=this.node.addComponent(cc.AudioSource),this.music_as.volume=this.music_volume;for(var t=0;t<8;t++){var e=this.node.addComponent(cc.AudioSource);this.effect_as.push(e),e.volume=this.effect_volume}this.cur_as=0;var i="iOS"===cc.sys.os;this.musicMute=i,this.effectMute=i}else this.destroy()},e.prototype.get_music_volume=function(){return this.music_volume},e.prototype.set_music_volume=function(t){this.music_volume=t,this.music_as.volume=t},e.prototype.get_effect_volume=function(){return this.effect_volume},e.prototype.set_effect_volume=function(t){for(var e=0;e<this.effect_as.length;e++)this.effect_as[e].volume=t;this.effect_volume=t},e.prototype.play_music=function(t,e){e=!!e,this.music_as.loop=e,this.music_as.clip=c.default.getRes("assets/Sounds/"+t,cc.AudioClip),this.music_as.clip?this.music_as.play():cc.error("music audio clip null: ",t)},e.prototype.stop_music=function(){this.music_as.stop()},e.prototype.play_effect=function(t){var e=this.effect_as[this.cur_as];this.cur_as++,this.cur_as>=8&&(this.cur_as=0),e.clip=c.default.getRes("assets/Sounds/"+t,cc.AudioClip),e.clip?e.play():cc.error("effect audio clip null: ",t)},e.Instance=null,o=r([a],e)}(cc.Component));o.default=l,cc._RF.pop()},{"./RES":"RES"}],SvgaEvent:[function(t,e,o){"use strict";cc._RF.push(e,"07040GmslJHs7J1pUxL6Kr7","SvgaEvent"),Object.defineProperty(o,"__esModule",{value:!0}),o.SvgaEvent=void 0,(o.SvgaEvent||(o.SvgaEvent={})).END_FRAME="end_frame",cc._RF.pop()},{}],SvgaTest:[function(t,e,o){"use strict";cc._RF.push(e,"409b0ViUwJJyq1xgsGIOWkr","SvgaTest");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Scripts/Component/Svga/SvgaEvent"),s=cc._decorator,a=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){this.node.on(c.SvgaEvent.END_FRAME,function(t){console.log("\u7ed3\u675f\u4e8b\u4ef6",t)})},r([a],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../Scripts/Component/Svga/SvgaEvent":"SvgaEvent"}],SvgaTrack:[function(t,e,o){"use strict";cc._RF.push(e,"5eefe9b92lAU4GY+nBw9mG4","SvgaTrack"),Object.defineProperty(o,"__esModule",{value:!0}),o.SvgaTrack=void 0;var i=function(){function t(t,e){this.node=t,this.frames=e}return t.prototype.setValue=function(t){var e=this.node,o=this.frames,i=o[t=Math.round(cc.misc.clampf(t,0,o.length-1))],n=i.alpha,r=i.transform;if(i.maskPath,n<.05)e.opacity=0;else{e.opacity=255*n;var c=r.a,s=r.b,a=r.c,l=r.d,u=r.tx,p=r.ty,h=e._matrix,d=e._trs,f=h.m;f[0]=c,f[1]=s,f[4]=-a,f[5]=-l,f[6]=-f[6],f[7]=-f[7],d[0]=u,d[1]=p,e._renderFlag|=cc.RenderFlow.FLAG_WORLD_TRANSFORM}},t.prototype.resetValue=function(){this.node._renderFlag&=~cc.RenderFlow.FLAG_LOCAL_TRANSFORM,this.setValue(0)},t.prototype.destroy=function(){this.node=null},t}();o.SvgaTrack=i,cc._RF.pop()},{}],Svga:[function(t,e,o){"use strict";cc._RF.push(e,"7c5ffhlHDpBpoDQ8wfKN7pu","Svga");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,r){function c(t){try{a(i.next(t))}catch(e){r(e)}}function s(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,s)}a((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,i,n,r,c={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return a([t,e])}}function a(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,i=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(n=(n=c.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){c.label=r[1];break}if(6===r[0]&&c.label<n[1]){c.label=n[1],n=r;break}if(n&&c.label<n[2]){c.label=n[2],c.ops.push(r);break}n[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./SvgaTrack"),l=cc._decorator.executeInEditMode,u=cc._decorator.playOnFocus,p=t("./SvgaEvent"),h=t("./loadSvga"),d=cc._decorator.menu,f=cc._decorator.disallowMultiple,_=cc._decorator,y=_.ccclass,v=_.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.edit_update=!1,e.aniNode=null,e._svga=null,e.tracks=[],e.isPlaying=!1,e.vmData=null,e.autoPlay=!0,e._loop=!1,e._totalFrames=0,e._frameTime=0,e._fps=0,e._curTime=0,e._curFrame=0,e}return n(e,t),e.prototype.onFocusInEditor=function(){this.edit_update=!0,this.play(0)},e.prototype.onLostFocusInEditor=function(){this.edit_update=!1},e.prototype.resetInEditor=function(){return c(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,this._load()];case 1:return t.sent(),this.edit_update=!0,this.play(0),[2]}})})},e.prototype.onEnable=function(){this.play(0)},Object.defineProperty(e.prototype,"svga",{get:function(){return this._svga},set:function(t){var e=this;t!==this._svga&&(this._svga=t,this._load().then(function(){e.play(0)}))},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){return c(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this.aniNode=this.node.getChildByName("aniNode"),this.aniNode||(this.aniNode=new cc.Node("aniNode"),this.aniNode.scaleY=-1,this.node.addChild(this.aniNode)),[4,this._load()];case 1:return t.sent(),this.autoPlay&&this.play(0),[2]}})})},e.prototype.start=function(){},e.prototype.play=function(t){void 0===t&&(t=0),this.curFrame=t,this.isPlaying=!0},e.prototype.stop=function(t){void 0===t&&(t=!1),t&&(this.curFrame=0),this.isPlaying=!1},Object.defineProperty(e.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalTime",{get:function(){return this._totalFrames*(1/this.fps)||0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._totalFrames},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fps",{get:function(){var t;return this._fps||(null===(t=this.vmData)||void 0===t?void 0:t.FPS)||0},set:function(t){this._fps=t,this._frameTime=1/t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curTime",{get:function(){return this._curTime},set:function(t){this._curTime=t,this._curFrame=t*this.fps},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curFrame",{get:function(){return this._curFrame},set:function(t){this._curFrame=t,this._curTime=t/this.fps},enumerable:!1,configurable:!0}),e.prototype.update=function(t){var e=this;this.isPlaying&&(this.curTime+=t,this._curFrame>this.totalFrames&&(this.node.emit(p.SvgaEvent.END_FRAME),this.loop?this.curTime=(this._curFrame-this.totalFrames)*this._frameTime:this.stop(!0)),this.tracks.forEach(function(t){t.setValue(e._curFrame)}))},e.prototype.onDestroy=function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].destroy();this.tracks=[]},e.prototype._load=function(){return c(this,void 0,void 0,function(){var t=this;return s(this,function(){return this.svga?(this.aniNode.removeAllChildren(!0),[2,new Promise(function(e){return c(t,void 0,void 0,function(){var t,o,i,n,r,l,u,p,d,f,_,y,v,m,g,b,w=this;return s(this,function(S){switch(S.label){case 0:return[4,h.loadSvga(this.svga)];case 1:for(f in(t=S.sent()).textures={},this.vmData=t,o=t.FPS,i=t.videoSize,n=t.images,r=t.sprites,l=t.textures,u=t.frames,this.fps||(this.fps=o),this._totalFrames=u,this.node.setContentSize(i.width,i.height),this.aniNode.setPosition(-i.width/2,i.height/2),p=[],d=function(t){var e=n[t];0!==e.indexOf("iVBO")&&0!==e.indexOf("/9j/2w")||(e="data:image/png;base64,"+e),p.push(new Promise(function(o){return c(w,void 0,void 0,function(){var i,n;return s(this,function(r){switch(r.label){case 0:return[4,h.createImage(e)];case 1:return i=r.sent(),(n=new cc.Texture2D).initWithElement(i),l[t]=new cc.SpriteFrame(n),o(),[2]}})})}))},n)d(f);return[4,Promise.all(p)];case 2:for(S.sent(),_=0;_<r.length;_++){if(y=r[_],v=y.imageKey,m=y.frames,!v)return[2];(g=new cc.Node(v)).setAnchorPoint(0,1),this.aniNode.addChild(g),g.addComponent(cc.Sprite).spriteFrame=l[v],(b=new a.SvgaTrack(g,m)).resetValue(),this.tracks.push(b)}return e(),[2]}})})})]):[2]})})},r([v(cc.Asset)],e.prototype,"_svga",void 0),r([v(cc.Asset)],e.prototype,"svga",null),r([v({tooltip:"\u662f\u5426\u81ea\u52a8\u64ad\u653e"})],e.prototype,"autoPlay",void 0),r([v],e.prototype,"_loop",void 0),r([v({tooltip:"\u662f\u5426\u5faa\u73af"})],e.prototype,"loop",null),r([v],e.prototype,"_fps",void 0),r([v],e.prototype,"fps",null),r([y,l,f,u,d("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Svga")],e)}(cc.Component);o.default=m,cc._RF.pop()},{"./SvgaEvent":"SvgaEvent","./SvgaTrack":"SvgaTrack","./loadSvga":"loadSvga"}],ToastCtrl:[function(t,e,o){"use strict";cc._RF.push(e,"e3144PhzHxKErebUgir9/xh","ToastCtrl");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.showToast=void 0;var c=cc._decorator,s=c.ccclass;c.property,o.showToast=function(t,e){void 0===e&&(e=!1),a.ins.show(t,e)};var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mask=null,e.label=null,e.bg=null,e}var o;return n(e,t),o=e,e.prototype.onLoad=function(){o.ins=this,this.mask=this.node.getChildByName("mask"),this.label=this.node.getChildByName("label").getComponent(cc.Label),this.bg=this.node.getChildByName("bg"),this.mask.active=!1,this.node.active=!1,this.tw=cc.tween(this.node)},e.prototype.show=function(t,e){var o=this;void 0===e&&(e=!1),this.mask.active=e,this.node.active=!0,this.label.string=t.toString(),this.node.opacity=0,this.bg.width=0,this.bg.height=0,this.tw.stop().to(.25,{opacity:255}).delay(1.7).to(.25,{opacity:0}).call(function(){return o.hide()}).start(),this.scheduleOnce(function(){var t=o.label.node.getBoundingBox(),e=t.width,i=t.height;e<200&&(e=200),i<100&&(i=100),o.bg.width=e+100,o.bg.height=i+50},.1)},e.prototype.hide=function(){this.mask.active=!1,this.node.active=!1,this.tw.stop()},e.ins=null,o=r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],Utf8:[function(t,e,o){"use strict";cc._RF.push(e,"22fcdqvh85LsKix8vDAm4EX","Utf8"),Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8=void 0;var i=t("./Latin1"),n=function(){function t(){}return t.stringify=function(t){try{return decodeURIComponent(escape(i.Latin1.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},t.parse=function(t){return i.Latin1.parse(unescape(encodeURIComponent(t)))},t}();o.Utf8=n,cc._RF.pop()},{"./Latin1":"Latin1"}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"38564PsQihOspdkliYVj2MK","Utils"),Object.defineProperty(o,"__esModule",{value:!0}),o.wait=o.deepClone=o.colorToHexNum=o.setGray=o.sleep=o.parseHtml=o.prefixInteger=o.moneyFormatter=o.formatUnit=o.formatUnitDisplay=o.formatScoreDisplay=o.zeroizeFormatter=o.sepTime=o.modAndDivide=o.getWeek=o.dateFormatter=o.getMS=o.addHttps=void 0,o.addHttps=function(t){return void 0===t&&(t=""),(t=t||"").includes("//")?(null==t?void 0:t.includes("http"))?t:"https:"+t:""},o.getMS=function(t){void 0===t&&(t=0);var e=t/1e3;return String(Math.floor(e/60)).padStart(1,"0")+"\u5206"+String(Math.floor(e%60)).padStart(1,"0")+"\u79d2"},o.dateFormatter=function(t,e){if(void 0===e&&(e="yyyy/MM/dd"),!t)return"-";var o={"M+":(t=new Date("string"==typeof t&&isNaN(+t)?t.replace(/-/g,"/"):Number(t))).getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?o[i]:("00"+o[i]).substr((""+o[i]).length)));return e},o.getWeek=function(t){var e=t.getDay();return 0==e&&(e=7),e},o.modAndDivide=function(t,e){if("number"!=typeof t)throw new Error("Error type.");if("number"==typeof e)return[t%e,Math.floor(t/e)];if(Array.isArray(e)){var o=t,i=e.map(function(t){var e=o%t;return o=Math.floor(o/t),e});return 0!==o&&i.push(o),i}},o.sepTime=function(t,e){var i=o.modAndDivide(t,[60,60,24]),n=i[0],r=void 0===n?0:n,c=i[1],s=void 0===c?0:c,a=i[2],l=void 0===a?0:a,u=i[3],p=void 0===u?0:u;return e&&(e.sec=r,e.min=s,e.hour=l,e.day=p),{sec:r,min:s,hour:l,day:p}},o.zeroizeFormatter=function(t,e){return void 0===e&&(e=2),(Array(e).join("0")+t).slice((""+t).length>e?-(""+t).length:-e)},o.formatScoreDisplay=function(t,e,i){return void 0===e&&(e=1e6),void 0===i&&(i=[1e4,1e4]),!e||t>e?o.formatUnitDisplay(t,i):t},o.formatUnitDisplay=function(t,e,i){void 0===e&&(e=[1e4,1e4,1e4,1e4]),void 0===i&&(i=["","\u4e07","\u4ebf","\u5146","\u4e07\u5146"]);var n=o.modAndDivide(t,e),r=0;n.forEach(function(t,e){0!==t&&(r=e)});var c=n[r];if(r<1)return c;var s=n[r-1];if(s<100)return o.formatUnit(c,"",r,i);var a=o.zeroizeFormatter(s,4).substr(0,2);return o.formatUnit(c,a,r,i)},o.formatUnit=function(t,e,o,i){return t+(e&&e.length?".":"")+e+i[o]},o.moneyFormatter=function(t){return isNaN(+t)&&(t=0),String(t).replace(/\B(?=(\d{3})+(?!\d))/g,",")},o.prefixInteger=function(t,e){return(Array(e).join("0")+t).slice(-e)},o.parseHtml=function(t){var e=document.createElement("div");return e.innerHTML=t,e.children[0]},o.sleep=function(t){return new Promise(function(e){return setTimeout(e,t)})},o.setGray=function(t){t.getComponent(cc.Sprite).setMaterial(0,cc.Material.createWithBuiltin(cc.Material.BUILTIN_NAME.GRAY_SPRITE.toString(),0))},o.colorToHexNum=function(t){return(t.r<<16)+(t.g<<8)+t.b},o.deepClone=function(t){return JSON.parse(JSON.stringify(t))},o.wait=function(t){return new Promise(function(e){setTimeout(e,t)})},cc._RF.pop()},{}],WaitingCtrl:[function(t,e,o){"use strict";cc._RF.push(e,"6127cUlklpO2J1YHpT7sjWd","WaitingCtrl");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.hideWaiting=o.showWaiting=void 0;var c=cc._decorator,s=c.ccclass;c.property,o.showWaiting=function(t){void 0===t&&(t=!0),a.ins.show(t)},o.hideWaiting=function(){a.ins.hide()};var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mask=null,e.waitingRot=null,e.label=null,e.bg=null,e}var o;return n(e,t),o=e,e.prototype.onLoad=function(){o.ins=this,this.mask=this.node.getChildByName("mask"),this.waitingRot=this.node.getChildByName("waitingRot"),this.label=this.node.getChildByName("label").getComponent(cc.Label),this.bg=this.node.getChildByName("bg"),this.mask.active=!1,this.node.active=!1},e.prototype.show=function(t){void 0===t&&(t=!0),this.mask.active=t,this.node.active=!0},e.prototype.hide=function(){this.mask.active=!1,this.node.active=!1},e.ins=null,o=r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],WebNet:[function(t,e,o){"use strict";cc._RF.push(e,"5fbb1z8gBtC84E/DoVoS3Cq","WebNet");var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,i=arguments.length;o<i;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},n=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,r){function c(t){try{a(i.next(t))}catch(e){r(e)}}function s(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,s)}a((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var o,i,n,r,c={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return a([t,e])}}function a(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,i=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(n=(n=c.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){c.label=r[1];break}if(6===r[0]&&c.label<n[1]){c.label=n[1],n=r;break}if(n&&c.label<n[2]){c.label=n[2],c.ops.push(r);break}n[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.pollingWebNet=o.creditsCost=o.queryPrizeList=o.sendLogList=o.sendLog=o.LOG_TYPE=o.getPxToken=o.getPxTokenSave=o.refreshPxTokenKey=o.getProjectId=o.destroyWebNetData=o.getWebData=o.sendWebNetWithToken=o.sendWebNet=o.WebNetName=o.DEFAULF_ERROR=void 0;var c,s=t("./web/ajax"),a=t("./web/webTools"),l=t("../../../Module/ToastCtrl");o.DEFAULF_ERROR="\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",function(t){t.index="game/index.do",t.start="game/start.do",t.submit="game/submit.do",t.projectRule="projectRule.query",t.creditsCost="credits/creditsCost.do",t.queryStatus="credits/queryStatus.do"}(c=o.WebNetName||(o.WebNetName={}));var u={};function p(t,e,o,i,n,r){return void 0===i&&(i=!1),void 0===n&&(n=!0),new Promise(function(c){if("development"===window.__ENV__){t.split("/")[1];var a="mock/"+(t.indexOf("/")<=-1?"projectX/"+t:t)+".json";return console.info(a),void h(a).then(function(n){u[t]=n,i||n.success||l.showToast(n.message||"\u7f51\u7edc\u5f00\u5c0f\u5dee\u5566\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff5e"),o&&o(n.success,n),c(n),console.log("\n%c[ mock ]\nNAME  : "+t+" \nSTATE : %o \nPARAM : %o \n%cDATA  : %o \n",n.success?"color:green":"color:red",n.success,e,n.success?"color:green":"color:red",n)},function(){i||l.showToast("\u7f51\u7edc\u5f00\u5c0f\u5dee\u5566\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff5e"),o&&o(!1),c({success:!1})})}s.ajax({url:t,type:n?"GET":"POST",data:e||{},dataType:"json",async:!0,headers:r,success:function(n){n=n||{},u[t]=n,i||n.success||l.showToast(n.message||"\u7f51\u7edc\u5f00\u5c0f\u5dee\u5566\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff5e"),o&&o(n.success,n),c(n),console.log("\n%c[ request ]\nNAME  : "+t+" \nSTATE : %o \nPARAM : %o \n%cDATA  : %o \n",n.success?"color:green":"color:red",n.success,e,n.success?"color:green":"color:red",n)},error:function(){i||l.showToast("\u7f51\u7edc\u5f00\u5c0f\u5dee\u5566\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff5e"),o&&o(!1),c({success:!1}),console.log("\u63a5\u53e3"+t+"\uff1a\u7f51\u7edc\u8d85\u65f6")}})})}function h(t){return n(this,void 0,Promise,function(){return r(this,function(e){switch(e.label){case 0:return[4,fetch(t)];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()]}})})}o.sendWebNet=p,o.sendWebNetWithToken=function(t,e,c,s,a,u){var h=this;return void 0===s&&(s=!1),void 0===a&&(a=!0),new Promise(function(d){return n(h,void 0,void 0,function(){var n,h;return r(this,function(r){switch(r.label){case 0:return[4,g()];case 1:return(n=r.sent())?[4,p(t,i({token:n},e),c,s,a,u)]:(l.showToast(o.DEFAULF_ERROR),d({success:!1}),[2]);case 2:return h=r.sent(),d(h),[2]}})})})},o.getWebData=function(t){return u[t]||{}},o.destroyWebNetData=function(){u={}};var d,f="projectx/";function _(){if(d)return d;var t=window.location.href,e=t.split(f);if(2!=e.length)return d="projectId";var o=t.indexOf(f)+f.length,i=e[1].indexOf("/");return d=t.substr(o,i)}o.getProjectId=_;var y,v=location.href.indexOf(".com.cn/projectx")>=0;function m(t){if(v){var e=document.getElementsByTagName("head")[0],o=document.createElement("script");o.src="getTokenKey?_="+Date.now(),o.onload=function(){e.removeChild(o),t&&t(!0)},o.onerror=function(){e.removeChild(o),t&&t(!1)},e.appendChild(o)}else t&&t(!0)}function g(){var t=this;return new Promise(function(e){b(function(o,i){return n(t,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return i?(e(i),[2]):[4,new Promise(function(t){m(t)})];case 1:return t.sent()?(b(function(t,o){e(o)}),[2]):(e(null),[2])}})})})})}function b(t){if(v)if(window.ohjaiohdf){var e=new XMLHttpRequest;e.open("get","getToken?_t="+Date.now(),!0),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var o=JSON.parse(e.response);if(o.success)window.eval(o.data),t(null,window.ohjaiohdf());else{var i=function(){switch(o.code){case"100001":return"need login";case"100024":return"state invalid";default:return o.code}}();t(i)}}},e.onerror=function(){t("net error")},e.onloadend=function(){404===e.status&&t("net error")},e.send()}else t("need reload");else t(null,"token")}function w(t,e,o,i){void 0===o&&(o=1),void 0===i&&(i=0);var n=_(),r=a.getUrlParams("appID");r||console.error("appID\u4e0d\u5b58\u5728\uff0c\u68c0\u67e5\u94fe\u63a5");var c={dpm:(r||"appID")+".110."+e+"."+o,dcm:"202."+(n||"projectID")+"."+i+".0",appId:r};t==y.EXPOSURE?s.jsonp("//embedlog.duiba.com.cn/exposure/standard",c):s.jsonp("/log/click",c)}function S(t,e,o,i,s){return void 0===i&&(i=10),void 0===s&&(s=200),n(this,void 0,void 0,function(){var a=this;return r(this,function(){return[2,new Promise(function(l){return n(a,void 0,void 0,function(){function a(){return n(this,void 0,void 0,function(){var n;return r(this,function(r){switch(r.label){case 0:return[4,p(c.queryStatus,t)];case 1:return n=r.sent(),e(n.success,n)?(l(n),o&&o(n),[2]):++u>=i?(l(n),o&&o(n),[2]):(setTimeout(function(){a()},s),[2])}})})}var u;return r(this,function(t){switch(t.label){case 0:return u=0,[4,a()];case 1:return t.sent(),[2]}})})})]})})}o.refreshPxTokenKey=m,m(),o.getPxTokenSave=g,o.getPxToken=b,function(t){t.EXPOSURE="exposure",t.CLICK="click"}(y=o.LOG_TYPE||(o.LOG_TYPE={})),o.sendLog=w,o.sendLogList=function(t,e){e.forEach(function(e){"object"==typeof e?w(t,e.area,e.dpm_d,(null==e?void 0:e.dcm_c)||0):w(t,e)})},o.queryPrizeList=function(t,e){var o="/projectx/"+_()+"/"+t+".query";return new Promise(function(t){"7456"==window.location.port?t({success:!0,message:"consequat ea",data:[{prizeType:"dolore culpa in tempor",name:"ka3",refType:"Excepteur adipisicing sint",icon:"//yun.duiba.com.cn/spark/assets/58184d8d965c556b412026acf7a5d5d9e7a975f5.png",index:"Ut in pariatur",id:"et",refId:"minim culpa veniam aliqua ut",prizeId:"aa",icon2:"aliquip consectetur laborum Duis"}],code:"fugiat velit in esse aute"}):s.ajax({url:o,type:"GET",data:e?{optionId:e}:{},dataType:"json",async:!0,success:function(e){t(e)},error:function(){t({success:!1})}})})},o.creditsCost=function(t,e,o,i){return void 0===i&&(i=""),n(this,void 0,void 0,function(){var n,s,a,l,u;return r(this,function(r){switch(r.label){case 0:return n={toPlaywayId:t,toActionId:e,credits:i},o&&(n.desc=o),[4,p(c.creditsCost,n)];case 1:return s=r.sent(),a=s.success,l=s.data,a?[4,S({ticketNum:l},function(t,e){return 0!=e.data})]:[2,{success:!1}];case 2:return[2,{success:1==(u=r.sent()).data,ticket:l,pollingData:u}]}})})},o.pollingWebNet=S,cc._RF.pop()},{"../../../Module/ToastCtrl":"ToastCtrl","./web/ajax":"ajax","./web/webTools":"webTools"}],WordArray:[function(t,e,o){"use strict";cc._RF.push(e,"ac4bbC9UW9Mdp5aSDDfFHXD","WordArray"),Object.defineProperty(o,"__esModule",{value:!0}),o.WordArray=void 0;var i=t("../enc/Hex"),n=function(){function t(t,e){this.words=t||[],this.sigBytes=void 0!==e?e:4*this.words.length}return t.random=function(e){for(var o=[],i=function(t){var e=987654321,o=4294967295;return function(){var i=((e=36969*(65535&e)+(e>>16)&o)<<16)+(t=18e3*(65535&t)+(t>>16)&o)&o;return i/=4294967296,(i+=.5)*(Math.random()>.5?1:-1)}},n=0,r=void 0;n<e;n+=4){var c=i(4294967296*(r||Math.random()));r=987654071*c(),o.push(4294967296*c()|0)}return new t(o,e)},t.prototype.toString=function(t){return(t||i.Hex).stringify(this)},t.prototype.concat=function(t){if(this.clamp(),this.sigBytes%4)for(var e=0;e<t.sigBytes;e++){var o=t.words[e>>>2]>>>24-e%4*8&255;this.words[this.sigBytes+e>>>2]|=o<<24-(this.sigBytes+e)%4*8}else for(e=0;e<t.sigBytes;e+=4)this.words[this.sigBytes+e>>>2]=t.words[e>>>2];return this.sigBytes+=t.sigBytes,this},t.prototype.clamp=function(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)},t.prototype.clone=function(){return new t(this.words.slice(0),this.sigBytes)},t}();o.WordArray=n,cc._RF.pop()},{"../enc/Hex":"Hex"}],ajax:[function(t,e,o){"use strict";function i(t){if(!t)return"";var e=[];for(var o in t)e.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return e.push("_="+Date.now()),e.join("&")}cc._RF.push(e,"bce01aJoDdHpZP3djB31P+A","ajax"),Object.defineProperty(o,"__esModule",{value:!0}),o.jsonp=o.ajax=void 0,o.ajax=function(t){t.type=t.type||"GET",t.dataType=t.dataType||"json",t.async=!1!==t.async;var e,o=i(t.data);if(window.XMLHttpRequest)e=new window.XMLHttpRequest;else{if(!window.ActiveXObject)return void console.error("\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301XHR\u8bf7\u6c42");e=new ActiveXObject("Microsoft.XMLHTTP")}if(e.responseType=t.dataType,e.onreadystatechange=function(){if(4==e.readyState){var o=e.status;o>=200&&o<300||304==o?t.success&&t.success(e.response):t.error&&t.error(o||"error")}},"GET"==t.type){if(e.open("GET",t.url+"?"+o,t.async),t.headers)for(var n in t.headers)e.setRequestHeader(n,t.headers[n]);e.send(null)}else if("POST"==t.type){if(e.open("POST",t.url,t.async),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.headers)for(var n in t.headers)e.setRequestHeader(n,t.headers[n]);e.send(o)}},o.jsonp=function(t,e){var o=t+"?"+i(e),n=document.createElement("script");n.src=o,n.onload=function(){document.body.removeChild(n)},n.onerror=function(){document.body.removeChild(n)},document.body.appendChild(n)},cc._RF.pop()},{}],"crypto-ts":[function(t,e,o){"use strict";cc._RF.push(e,"16566oraZdAKo6iyXD6FIe7","crypto-ts"),Object.defineProperty(o,"__esModule",{value:!0}),o.SHA256=o.AES=o.mode=o.pad=o.enc=o.algo=o.lib=void 0;var i=t("./lib/WordArray"),n=t("./lib/BlockCipher"),r=t("./lib/CipherParams"),c=t("./lib/Hasher"),s=t("./lib/SerializableCipher"),a=t("./lib/PasswordBasedCipher");o.lib={BlockCipher:n.BlockCipher,WordArray:i.WordArray,CipherParams:r.CipherParams,Hasher:c.Hasher,SerializableCipher:s.SerializableCipher,PasswordBasedCipher:a.PasswordBasedCipher};var l=t("./algo/AES"),u=t("./algo/SHA256");o.algo={AES:l.AES,SHA256:u.SHA256};var p=t("./enc/Utf8"),h=t("./enc/Hex");o.enc={Utf8:p.Utf8,Hex:h.Hex};var d=t("./pad/NoPadding"),f=t("./pad/PKCS7");o.pad={NoPadding:d.NoPadding,PKCS7:f.PKCS7};var _=t("./mode/CBC"),y=t("./mode/ECB");o.mode={CBC:_.CBC,ECB:y.ECB},o.AES=o.lib.BlockCipher._createHelper(o.algo.AES),o.SHA256=o.lib.Hasher._createHelper(o.algo.SHA256),cc._RF.pop()},{"./algo/AES":"AES","./algo/SHA256":"SHA256","./enc/Hex":"Hex","./enc/Utf8":"Utf8","./lib/BlockCipher":"BlockCipher","./lib/CipherParams":"CipherParams","./lib/Hasher":"Hasher","./lib/PasswordBasedCipher":"PasswordBasedCipher","./lib/SerializableCipher":"SerializableCipher","./lib/WordArray":"WordArray","./mode/CBC":"CBC","./mode/ECB":"ECB","./pad/NoPadding":"NoPadding","./pad/PKCS7":"PKCS7"}],ecaptcha:[function(t,e,o){"use strict";cc._RF.push(e,"72fe5tr53hLUq2XobR28sW3","ecaptcha");var i=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,r){function c(t){try{a(i.next(t))}catch(e){r(e)}}function s(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,s)}a((i=i.apply(t,e||[])).next())})},n=this&&this.__generator||function(t,e){var o,i,n,r,c={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return a([t,e])}}function a(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,i=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(n=(n=c.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){c.label=r[1];break}if(6===r[0]&&c.label<n[1]){c.label=n[1],n=r;break}if(n&&c.label<n[2]){c.label=n[2],c.ops.push(r);break}n[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.startNecCaptcha=void 0;var r,c,s=t("../Utils"),a=t("../WebNet/web/ajax"),l=!1,u=!1;function p(t,e){return void 0===e&&(e="embed"),i(this,void 0,void 0,function(){function o(o){u?o.target==r&&c&&c.refresh():(i(),p(t,e))}function i(){r.removeEventListener("click",o),document.body.removeChild(r)}return n(this,function(n){switch(n.label){case 0:return[4,h()];case 1:return n.sent(),[2,new Promise(function(n,s){document.body.appendChild(r);var a=r.children[0];a.innerHTML=null,a.style.visibility="hidden";var l={element:a,captchaId:t,width:"100%",mode:e,onVerify:function(t,e){i(),t?s(t):n(e.validate)}};window.initNECaptcha(l,function(t){c=t,u=!0,a.style.visibility="visible",r.addEventListener("click",o)},function(){u=!1,r.addEventListener("click",o)}),r.style.visibility="visible"})]}})})}function h(){return i(this,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return l?[3,5]:[4,a.jsonp("//cstaticdun.126.net/load.min.js",null)];case 1:t.sent(),r=s.parseHtml('<div class="sui-captcha"><div class="neCaptcha-dialog"></div></div>'),t.label=2;case 2:return[4,new Promise(function(t){return setTimeout(t,100)})];case 3:return t.sent(),window.initNECaptcha?[3,4]:[3,2];case 4:l=!0,t.label=5;case 5:return[2]}})})}o.startNecCaptcha=function(t,e,o){return void 0===e&&(e=1),void 0===o&&(o="embed"),i(this,void 0,void 0,function(){var i,r,c;return n(this,function(n){switch(n.label){case 0:i=e<=0?Number.MAX_VALUE:e,c=0,n.label=1;case 1:return c<i?[4,p(t,o).catch(console.info)]:[3,4];case 2:if(r=n.sent())return[2,r];n.label=3;case 3:return c++,[3,1];case 4:return[2,Promise.reject("out of times")]}})})},cc._RF.pop()},{"../Utils":"Utils","../WebNet/web/ajax":"ajax"}],index:[function(t,e,o){"use strict";cc._RF.push(e,"1e3723Bsw9DF5AWqSyCYhss","index");var i=this&&this.__createBinding||(Object.create?function(t,e,o,i){void 0===i&&(i=o),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[o]}})}:function(t,e,o,i){void 0===i&&(i=o),t[i]=e[o]}),n=this&&this.__exportStar||function(t,e){for(var o in t)"default"===o||Object.prototype.hasOwnProperty.call(e,o)||i(e,t,o)};Object.defineProperty(o,"__esModule",{value:!0}),n(t("./Utf8"),o),cc._RF.pop()},{"./Utf8":"Utf8"}],interface:[function(t,e,o){"use strict";cc._RF.push(e,"dbeb7x/ykZC14tBqxOW9gtp","interface"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],loadSvga:[function(t,e,o){"use strict";cc._RF.push(e,"d0e08EVP/pFhJXdUpznXvD+","loadSvga"),Object.defineProperty(o,"__esModule",{value:!0}),o.createImage=o.ImgCache=o.loadSvga=o.SvgaCache=void 0,o.SvgaCache={},cc.assetManager.downloader.register(".svga",function(t,e,o){cc.assetManager.downloader.downloadFile(t,{responseType:"arraybuffer"},o)}),o.loadSvga=function(t){return new Promise(function(e){var i="";t instanceof cc.Asset?(i=t._uuid,t=t._nativeAsset):i=t,o.SvgaCache[i]?e(o.SvgaCache[i]):SvgaParser.loadSvga(t,function(t){o.SvgaCache[i]=t,e(t)})})},o.ImgCache={},o.createImage=function(t){return new Promise(function(e){if(o.ImgCache[t])e(o.ImgCache[t]);else{var i=new Image;i.onload=function(){o.ImgCache[t]=i,e(i)},i.src=t}})},cc._RF.pop()},{}],webTools:[function(require,module,exports){"use strict";var urlParams,cookieParams,el;function getUrlParams(t,e){if(void 0===e&&(e=!1),urlParams&&!e)return urlParams[t];urlParams={};var o=window.location.search;try{o=top.location.search}catch(c){}for(var i=0,n=o.replace("?","").split("&");i<n.length;i++){var r=n[i].split("=");urlParams[r[0]]=1===r.length||decodeURIComponent(r[1])}return urlParams[t]}function getCookieParams(t,e){if(void 0===e&&(e=!1),cookieParams&&!e)return cookieParams[t];cookieParams={};for(var o=document.cookie.split("; "),i=0;i<o.length;i++){var n=o[i].split("=");cookieParams[n[0]]=decodeURIComponent(n[1])}return cookieParams[t]}function changeURLArg(url,arg,arg_val){var pattern=arg+"=([^&]*)",replaceText=arg+"="+arg_val;if(url.match(pattern)){var tmp="/("+arg+"=)([^&]*)/gi";return tmp=url.replace(eval(tmp),replaceText),tmp}return url.match("[?]")?url+"&"+replaceText:url+"?"+replaceText}function inputFeildIosEnable(){var t=navigator.userAgent,e=(navigator.appVersion,!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/));e&&setTimeout(function(){document.getElementsByTagName("input")[0].onblur=function(){e&&setTimeout(function(){"INPUT"!=document.activeElement.tagName&&"TEXTAREA"!=document.activeElement.tagName&&(/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)||/(Android)/i.test(navigator.userAgent),document.activeElement.scrollIntoViewIfNeeded(!0))},100)}},50)}function inputIosAdapte(){var t=window.navigator.userAgent.toLowerCase();/iphone|ipod|ipad/i.test(navigator.appVersion)&&/MicroMessenger/i.test(t)&&document.body.addEventListener("focusout",function(){console.log("focusout"),window.scrollTo({top:0,left:0,behavior:"smooth"})})}function htmlToPureText(t){el||(el=document.createElement("div")),el.innerHTML=t,document.body.appendChild(el);var e=el.innerText;return document.body.removeChild(el),e}cc._RF.push(module,"4c52bOz/7tH1boD+Ohi0pGt","webTools"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.htmlToPureText=exports.inputIosAdapte=exports.inputFeildIosEnable=exports.changeURLArg=exports.getCookieParams=exports.getUrlParams=void 0,exports.getUrlParams=getUrlParams,exports.getCookieParams=getCookieParams,exports.changeURLArg=changeURLArg,exports.inputFeildIosEnable=inputFeildIosEnable,exports.inputIosAdapte=inputIosAdapte,exports.htmlToPureText=htmlToPureText,cc._RF.pop()},{}]},{},["Module","Panel","PanelCtrl","Scene","SceneCtrl","ToastCtrl","WaitingCtrl","SvgaTest","BitText","FitSprite","Matrix","Svga","SvgaEvent","SvgaTrack","interface","loadSvga","EnumCFG","GameCfg","GameLaunch","List","ListItem","EventMgr","FrameAnim","NetMgr","PoolManager","RES","SkillMgr","SoundMgr","NonePanel","PrizePanel","RulePanel","GameRunner","GameScene","JoyStick","Player","SandBlock","ColorAssembler2D","Crypto","ImgFixedSize","Md5","Utils","WebNet","ajax","webTools","AES","EvpKDF","MD5","SHA256","crypto-ts","Base64","Encoding","Hex","Latin1","Utf8","index","Formatter","OpenSSL","KDF","OpenSSLKdf","Base","BlockCipher","BufferedBlockAlgorithm","BufferedBlockAlgorithmConfig","Cipher","CipherParams","CipherParamsInterface","Hasher","PasswordBasedCipher","SerializableCipher","WordArray","BlockCipherMode","BlockCipherModeAlgorithm","CBC","CBCDecryptor","CBCEncryptor","ECB","ECBDecryptor","ECBEncryptor","NoPadding","PKCS7","Padding","ecaptcha"]);